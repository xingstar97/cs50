/*! For license information please see codespaceStatusTool.js.LICENSE.txt */
(()=>{var t={6455:(t,e,i)=>{"use strict";const s=i(5602),r=i(5281);class n extends Error{constructor(t){if(!Array.isArray(t))throw new TypeError("Expected input to be an Array, got "+typeof t);let e=(t=[...t].map((t=>t instanceof Error?t:null!==t&&"object"==typeof t?Object.assign(new Error(t.message),t):new Error(t)))).map((t=>"string"==typeof t.stack?r(t.stack).replace(/\s+at .*aggregate-error\/index.js:\d+:\d+\)?/g,""):String(t))).join("\n");e="\n"+s(e,4),super(e),this.name="AggregateError",Object.defineProperty(this,"_errors",{value:t})}*[Symbol.iterator](){for(const t of this._errors)yield t}}t.exports=n},730:(t,e,i)=>{"use strict";const s=/[\u001b\u009b][[\]#;?()]*(?:(?:(?:[^\W_]*;?[^\W_]*)\u0007)|(?:(?:[0-9]{1,4}(;[0-9]{0,4})*)?[~0-9=<>cf-nqrtyA-PRZ]))/g,r=()=>{const t={enabled:!0,visible:!0,styles:{},keys:{}};"FORCE_COLOR"in process.env&&(t.enabled="0"!==process.env.FORCE_COLOR);const e=(t,e,i)=>"function"==typeof t?t(e):t.wrap(e,i),r=(i,s)=>{if(""===i||null==i)return"";if(!1===t.enabled)return i;if(!1===t.visible)return"";let r=""+i,n=r.includes("\n"),o=s.length;for(o>0&&s.includes("unstyle")&&(s=[...new Set(["unstyle",...s])].reverse());o-- >0;)r=e(t.styles[s[o]],r,n);return r},n=(e,i,s)=>{t.styles[e]=(t=>{let e=t.open=`[${t.codes[0]}m`,i=t.close=`[${t.codes[1]}m`,s=t.regex=new RegExp(`\\u001b\\[${t.codes[1]}m`,"g");return t.wrap=(t,r)=>{t.includes(i)&&(t=t.replace(s,i+e));let n=e+t+i;return r?n.replace(/\r*\n/g,`${i}$&${e}`):n},t})({name:e,codes:i}),(t.keys[s]||(t.keys[s]=[])).push(e),Reflect.defineProperty(t,e,{configurable:!0,enumerable:!0,set(i){t.alias(e,i)},get(){let i=t=>r(t,i.stack);return Reflect.setPrototypeOf(i,t),i.stack=this.stack?this.stack.concat(e):[e],i}})};return n("reset",[0,0],"modifier"),n("bold",[1,22],"modifier"),n("dim",[2,22],"modifier"),n("italic",[3,23],"modifier"),n("underline",[4,24],"modifier"),n("inverse",[7,27],"modifier"),n("hidden",[8,28],"modifier"),n("strikethrough",[9,29],"modifier"),n("black",[30,39],"color"),n("red",[31,39],"color"),n("green",[32,39],"color"),n("yellow",[33,39],"color"),n("blue",[34,39],"color"),n("magenta",[35,39],"color"),n("cyan",[36,39],"color"),n("white",[37,39],"color"),n("gray",[90,39],"color"),n("grey",[90,39],"color"),n("bgBlack",[40,49],"bg"),n("bgRed",[41,49],"bg"),n("bgGreen",[42,49],"bg"),n("bgYellow",[43,49],"bg"),n("bgBlue",[44,49],"bg"),n("bgMagenta",[45,49],"bg"),n("bgCyan",[46,49],"bg"),n("bgWhite",[47,49],"bg"),n("blackBright",[90,39],"bright"),n("redBright",[91,39],"bright"),n("greenBright",[92,39],"bright"),n("yellowBright",[93,39],"bright"),n("blueBright",[94,39],"bright"),n("magentaBright",[95,39],"bright"),n("cyanBright",[96,39],"bright"),n("whiteBright",[97,39],"bright"),n("bgBlackBright",[100,49],"bgBright"),n("bgRedBright",[101,49],"bgBright"),n("bgGreenBright",[102,49],"bgBright"),n("bgYellowBright",[103,49],"bgBright"),n("bgBlueBright",[104,49],"bgBright"),n("bgMagentaBright",[105,49],"bgBright"),n("bgCyanBright",[106,49],"bgBright"),n("bgWhiteBright",[107,49],"bgBright"),t.ansiRegex=s,t.hasColor=t.hasAnsi=e=>(t.ansiRegex.lastIndex=0,"string"==typeof e&&""!==e&&t.ansiRegex.test(e)),t.alias=(e,i)=>{let s="string"==typeof i?t[i]:i;if("function"!=typeof s)throw new TypeError("Expected alias to be the name of an existing color (string) or a function");s.stack||(Reflect.defineProperty(s,"name",{value:e}),t.styles[e]=s,s.stack=[e]),Reflect.defineProperty(t,e,{configurable:!0,enumerable:!0,set(i){t.alias(e,i)},get(){let e=t=>r(t,e.stack);return Reflect.setPrototypeOf(e,t),e.stack=this.stack?this.stack.concat(s.stack):s.stack,e}})},t.theme=e=>{if(null===(i=e)||"object"!=typeof i||Array.isArray(i))throw new TypeError("Expected theme to be an object");var i;for(let i of Object.keys(e))t.alias(i,e[i]);return t},t.alias("unstyle",(e=>"string"==typeof e&&""!==e?(t.ansiRegex.lastIndex=0,e.replace(t.ansiRegex,"")):"")),t.alias("noop",(t=>t)),t.none=t.clear=t.noop,t.stripColor=t.unstyle,t.symbols=i(7142),t.define=n,t};t.exports=r(),t.exports.create=r},7142:t=>{"use strict";const e="Hyper"===process.env.TERM_PROGRAM,i="win32"===process.platform,s="linux"===process.platform,r={ballotDisabled:"☒",ballotOff:"☐",ballotOn:"☑",bullet:"•",bulletWhite:"◦",fullBlock:"█",heart:"❤",identicalTo:"≡",line:"─",mark:"※",middot:"·",minus:"－",multiplication:"×",obelus:"÷",pencilDownRight:"✎",pencilRight:"✏",pencilUpRight:"✐",percent:"%",pilcrow2:"❡",pilcrow:"¶",plusMinus:"±",section:"§",starsOff:"☆",starsOn:"★",upDownArrow:"↕"},n=Object.assign({},r,{check:"√",cross:"×",ellipsisLarge:"...",ellipsis:"...",info:"i",question:"?",questionSmall:"?",pointer:">",pointerSmall:"»",radioOff:"( )",radioOn:"(*)",warning:"‼"}),o=Object.assign({},r,{ballotCross:"✘",check:"✔",cross:"✖",ellipsisLarge:"⋯",ellipsis:"…",info:"ℹ",question:"?",questionFull:"？",questionSmall:"﹖",pointer:s?"▸":"❯",pointerSmall:s?"‣":"›",radioOff:"◯",radioOn:"◉",warning:"⚠"});t.exports=i&&!e?n:o,Reflect.defineProperty(t.exports,"common",{enumerable:!1,value:r}),Reflect.defineProperty(t.exports,"windows",{enumerable:!1,value:n}),Reflect.defineProperty(t.exports,"other",{enumerable:!1,value:o})},5018:t=>{"use strict";const e=t.exports;t.exports.default=e;const i="[",s="]",r="",n=";",o="Apple_Terminal"===process.env.TERM_PROGRAM;e.cursorTo=(t,e)=>{if("number"!=typeof t)throw new TypeError("The `x` argument is required");return"number"!=typeof e?i+(t+1)+"G":i+(e+1)+";"+(t+1)+"H"},e.cursorMove=(t,e)=>{if("number"!=typeof t)throw new TypeError("The `x` argument is required");let s="";return t<0?s+=i+-t+"D":t>0&&(s+=i+t+"C"),e<0?s+=i+-e+"A":e>0&&(s+=i+e+"B"),s},e.cursorUp=(t=1)=>i+t+"A",e.cursorDown=(t=1)=>i+t+"B",e.cursorForward=(t=1)=>i+t+"C",e.cursorBackward=(t=1)=>i+t+"D",e.cursorLeft="[G",e.cursorSavePosition=o?"7":"[s",e.cursorRestorePosition=o?"8":"[u",e.cursorGetPosition="[6n",e.cursorNextLine="[E",e.cursorPrevLine="[F",e.cursorHide="[?25l",e.cursorShow="[?25h",e.eraseLines=t=>{let i="";for(let s=0;s<t;s++)i+=e.eraseLine+(s<t-1?e.cursorUp():"");return t&&(i+=e.cursorLeft),i},e.eraseEndLine="[K",e.eraseStartLine="[1K",e.eraseLine="[2K",e.eraseDown="[J",e.eraseUp="[1J",e.eraseScreen="[2J",e.scrollUp="[S",e.scrollDown="[T",e.clearScreen="c",e.clearTerminal="win32"===process.platform?`${e.eraseScreen}[0f`:`${e.eraseScreen}[3J[H`,e.beep=r,e.link=(t,e)=>[s,"8",n,n,e,r,t,s,"8",n,n,r].join(""),e.image=(t,e={})=>{let i=`${s}1337;File=inline=1`;return e.width&&(i+=`;width=${e.width}`),e.height&&(i+=`;height=${e.height}`),!1===e.preserveAspectRatio&&(i+=";preserveAspectRatio=0"),i+":"+t.toString("base64")+r},e.iTerm={setCwd:(t=process.cwd())=>`${s}50;CurrentDir=${t}${r}`,annotation:(t,e={})=>{let i=`${s}1337;`;const n=void 0!==e.x,o=void 0!==e.y;if((n||o)&&(!n||!o||void 0===e.length))throw new Error("`x`, `y` and `length` must be defined when `x` or `y` is defined");return t=t.replace(/\|/g,""),i+=e.isHidden?"AddHiddenAnnotation=":"AddAnnotation=",e.length>0?i+=(n?[t,e.length,e.x,e.y]:[e.length,t]).join("|"):i+=t,i+r}}},4277:t=>{"use strict";t.exports=({onlyFirst:t=!1}={})=>{const e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(e,t?void 0:"g")}},6434:(t,e,i)=>{"use strict";t=i.nmd(t);const s=(t,e)=>(...i)=>`[${t(...i)+e}m`,r=(t,e)=>(...i)=>{const s=t(...i);return`[${38+e};5;${s}m`},n=(t,e)=>(...i)=>{const s=t(...i);return`[${38+e};2;${s[0]};${s[1]};${s[2]}m`},o=t=>t,u=(t,e,i)=>[t,e,i],a=(t,e,i)=>{Object.defineProperty(t,e,{get:()=>{const s=i();return Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0}),s},enumerable:!0,configurable:!0})};let l;const c=(t,e,s,r)=>{void 0===l&&(l=i(2085));const n=r?10:0,o={};for(const[i,r]of Object.entries(l)){const u="ansi16"===i?"ansi":i;i===e?o[u]=t(s,n):"object"==typeof r&&(o[u]=t(r[e],n))}return o};Object.defineProperty(t,"exports",{enumerable:!0,get:function(){const t=new Map,e={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};e.color.gray=e.color.blackBright,e.bgColor.bgGray=e.bgColor.bgBlackBright,e.color.grey=e.color.blackBright,e.bgColor.bgGrey=e.bgColor.bgBlackBright;for(const[i,s]of Object.entries(e)){for(const[i,r]of Object.entries(s))e[i]={open:`[${r[0]}m`,close:`[${r[1]}m`},s[i]=e[i],t.set(r[0],r[1]);Object.defineProperty(e,i,{value:s,enumerable:!1})}return Object.defineProperty(e,"codes",{value:t,enumerable:!1}),e.color.close="[39m",e.bgColor.close="[49m",a(e.color,"ansi",(()=>c(s,"ansi16",o,!1))),a(e.color,"ansi256",(()=>c(r,"ansi256",o,!1))),a(e.color,"ansi16m",(()=>c(n,"rgb",u,!1))),a(e.bgColor,"ansi",(()=>c(s,"ansi16",o,!0))),a(e.bgColor,"ansi256",(()=>c(r,"ansi256",o,!0))),a(e.bgColor,"ansi16m",(()=>c(n,"rgb",u,!0))),e}})},4658:t=>{"use strict";const e="[\ud800-\udbff][\udc00-\udfff]";t.exports=t=>t&&t.exact?new RegExp(`^${e}$`):new RegExp(e,"g")},5281:(t,e,i)=>{"use strict";const s=i(2087),r=/\s+at.*(?:\(|\s)(.*)\)?/,n=/^(?:(?:(?:node|(?:internal\/[\w/]*|.*node_modules\/(?:babel-polyfill|pirates)\/.*)?\w+)\.js:\d+:\d+)|native)/,o=void 0===s.homedir?"":s.homedir();t.exports=(t,e)=>(e=Object.assign({pretty:!1},e),t.replace(/\\/g,"/").split("\n").filter((t=>{const e=t.match(r);if(null===e||!e[1])return!0;const i=e[1];return!i.includes(".app/Contents/Resources/electron.asar")&&!i.includes(".app/Contents/Resources/default_app.asar")&&!n.test(i)})).filter((t=>""!==t.trim())).map((t=>e.pretty?t.replace(r,((t,e)=>t.replace(e,e.replace(o,"~")))):t)).join("\n"))},3909:(t,e,i)=>{"use strict";const s=i(1354);let r=!1;e.show=(t=process.stderr)=>{t.isTTY&&(r=!1,t.write("[?25h"))},e.hide=(t=process.stderr)=>{t.isTTY&&(s(),r=!0,t.write("[?25l"))},e.toggle=(t,i)=>{void 0!==t&&(r=t),r?e.show(i):e.hide(i)}},7392:(t,e,i)=>{"use strict";const s=i(5119),r=i(4223);function n(t,e,i){if(" "===t.charAt(e))return e;for(let s=1;s<=3;s++)if(i){if(" "===t.charAt(e+s))return e+s}else if(" "===t.charAt(e-s))return e-s;return e}t.exports=(t,e,i)=>{i={position:"end",preferTruncationOnSpace:!1,...i};const{position:o,space:u,preferTruncationOnSpace:a}=i;let l="…",c=1;if("string"!=typeof t)throw new TypeError("Expected `input` to be a string, got "+typeof t);if("number"!=typeof e)throw new TypeError("Expected `columns` to be a number, got "+typeof e);if(e<1)return"";if(1===e)return l;const h=r(t);if(h<=e)return t;if("start"===o){if(a){const i=n(t,h-e+1,!0);return l+s(t,i,h).trim()}return!0===u&&(l+=" ",c=2),l+s(t,h-e+c,h)}if("middle"===o){!0===u&&(l=" "+l+" ",c=3);const i=Math.floor(e/2);if(a){const r=n(t,i),o=n(t,h-(e-i)+1,!0);return s(t,0,r)+l+s(t,o,h).trim()}return s(t,0,i)+l+s(t,h-(e-i)+c,h)}if("end"===o){if(a){const i=n(t,e-1);return s(t,0,i)+l}return!0===u&&(l=" "+l,c=2),s(t,0,e-c)+l}throw new Error(`Expected \`options.position\` to be either \`start\`, \`middle\` or \`end\`, got ${o}`)}},8168:(t,e,i)=>{const s=i(8874),r={};for(const t of Object.keys(s))r[s[t]]=t;const n={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};t.exports=n;for(const t of Object.keys(n)){if(!("channels"in n[t]))throw new Error("missing channels property: "+t);if(!("labels"in n[t]))throw new Error("missing channel labels property: "+t);if(n[t].labels.length!==n[t].channels)throw new Error("channel and label counts mismatch: "+t);const{channels:e,labels:i}=n[t];delete n[t].channels,delete n[t].labels,Object.defineProperty(n[t],"channels",{value:e}),Object.defineProperty(n[t],"labels",{value:i})}n.rgb.hsl=function(t){const e=t[0]/255,i=t[1]/255,s=t[2]/255,r=Math.min(e,i,s),n=Math.max(e,i,s),o=n-r;let u,a;n===r?u=0:e===n?u=(i-s)/o:i===n?u=2+(s-e)/o:s===n&&(u=4+(e-i)/o),u=Math.min(60*u,360),u<0&&(u+=360);const l=(r+n)/2;return a=n===r?0:l<=.5?o/(n+r):o/(2-n-r),[u,100*a,100*l]},n.rgb.hsv=function(t){let e,i,s,r,n;const o=t[0]/255,u=t[1]/255,a=t[2]/255,l=Math.max(o,u,a),c=l-Math.min(o,u,a),h=function(t){return(l-t)/6/c+.5};return 0===c?(r=0,n=0):(n=c/l,e=h(o),i=h(u),s=h(a),o===l?r=s-i:u===l?r=1/3+e-s:a===l&&(r=2/3+i-e),r<0?r+=1:r>1&&(r-=1)),[360*r,100*n,100*l]},n.rgb.hwb=function(t){const e=t[0],i=t[1];let s=t[2];const r=n.rgb.hsl(t)[0],o=1/255*Math.min(e,Math.min(i,s));return s=1-1/255*Math.max(e,Math.max(i,s)),[r,100*o,100*s]},n.rgb.cmyk=function(t){const e=t[0]/255,i=t[1]/255,s=t[2]/255,r=Math.min(1-e,1-i,1-s);return[100*((1-e-r)/(1-r)||0),100*((1-i-r)/(1-r)||0),100*((1-s-r)/(1-r)||0),100*r]},n.rgb.keyword=function(t){const e=r[t];if(e)return e;let i,n=1/0;for(const e of Object.keys(s)){const r=(u=s[e],((o=t)[0]-u[0])**2+(o[1]-u[1])**2+(o[2]-u[2])**2);r<n&&(n=r,i=e)}var o,u;return i},n.keyword.rgb=function(t){return s[t]},n.rgb.xyz=function(t){let e=t[0]/255,i=t[1]/255,s=t[2]/255;return e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,i=i>.04045?((i+.055)/1.055)**2.4:i/12.92,s=s>.04045?((s+.055)/1.055)**2.4:s/12.92,[100*(.4124*e+.3576*i+.1805*s),100*(.2126*e+.7152*i+.0722*s),100*(.0193*e+.1192*i+.9505*s)]},n.rgb.lab=function(t){const e=n.rgb.xyz(t);let i=e[0],s=e[1],r=e[2];return i/=95.047,s/=100,r/=108.883,i=i>.008856?i**(1/3):7.787*i+16/116,s=s>.008856?s**(1/3):7.787*s+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,[116*s-16,500*(i-s),200*(s-r)]},n.hsl.rgb=function(t){const e=t[0]/360,i=t[1]/100,s=t[2]/100;let r,n,o;if(0===i)return o=255*s,[o,o,o];r=s<.5?s*(1+i):s+i-s*i;const u=2*s-r,a=[0,0,0];for(let t=0;t<3;t++)n=e+1/3*-(t-1),n<0&&n++,n>1&&n--,o=6*n<1?u+6*(r-u)*n:2*n<1?r:3*n<2?u+(r-u)*(2/3-n)*6:u,a[t]=255*o;return a},n.hsl.hsv=function(t){const e=t[0];let i=t[1]/100,s=t[2]/100,r=i;const n=Math.max(s,.01);return s*=2,i*=s<=1?s:2-s,r*=n<=1?n:2-n,[e,100*(0===s?2*r/(n+r):2*i/(s+i)),(s+i)/2*100]},n.hsv.rgb=function(t){const e=t[0]/60,i=t[1]/100;let s=t[2]/100;const r=Math.floor(e)%6,n=e-Math.floor(e),o=255*s*(1-i),u=255*s*(1-i*n),a=255*s*(1-i*(1-n));switch(s*=255,r){case 0:return[s,a,o];case 1:return[u,s,o];case 2:return[o,s,a];case 3:return[o,u,s];case 4:return[a,o,s];case 5:return[s,o,u]}},n.hsv.hsl=function(t){const e=t[0],i=t[1]/100,s=t[2]/100,r=Math.max(s,.01);let n,o;o=(2-i)*s;const u=(2-i)*r;return n=i*r,n/=u<=1?u:2-u,n=n||0,o/=2,[e,100*n,100*o]},n.hwb.rgb=function(t){const e=t[0]/360;let i=t[1]/100,s=t[2]/100;const r=i+s;let n;r>1&&(i/=r,s/=r);const o=Math.floor(6*e),u=1-s;n=6*e-o,0!=(1&o)&&(n=1-n);const a=i+n*(u-i);let l,c,h;switch(o){default:case 6:case 0:l=u,c=a,h=i;break;case 1:l=a,c=u,h=i;break;case 2:l=i,c=u,h=a;break;case 3:l=i,c=a,h=u;break;case 4:l=a,c=i,h=u;break;case 5:l=u,c=i,h=a}return[255*l,255*c,255*h]},n.cmyk.rgb=function(t){const e=t[0]/100,i=t[1]/100,s=t[2]/100,r=t[3]/100;return[255*(1-Math.min(1,e*(1-r)+r)),255*(1-Math.min(1,i*(1-r)+r)),255*(1-Math.min(1,s*(1-r)+r))]},n.xyz.rgb=function(t){const e=t[0]/100,i=t[1]/100,s=t[2]/100;let r,n,o;return r=3.2406*e+-1.5372*i+-.4986*s,n=-.9689*e+1.8758*i+.0415*s,o=.0557*e+-.204*i+1.057*s,r=r>.0031308?1.055*r**(1/2.4)-.055:12.92*r,n=n>.0031308?1.055*n**(1/2.4)-.055:12.92*n,o=o>.0031308?1.055*o**(1/2.4)-.055:12.92*o,r=Math.min(Math.max(0,r),1),n=Math.min(Math.max(0,n),1),o=Math.min(Math.max(0,o),1),[255*r,255*n,255*o]},n.xyz.lab=function(t){let e=t[0],i=t[1],s=t[2];return e/=95.047,i/=100,s/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,i=i>.008856?i**(1/3):7.787*i+16/116,s=s>.008856?s**(1/3):7.787*s+16/116,[116*i-16,500*(e-i),200*(i-s)]},n.lab.xyz=function(t){let e,i,s;i=(t[0]+16)/116,e=t[1]/500+i,s=i-t[2]/200;const r=i**3,n=e**3,o=s**3;return i=r>.008856?r:(i-16/116)/7.787,e=n>.008856?n:(e-16/116)/7.787,s=o>.008856?o:(s-16/116)/7.787,e*=95.047,i*=100,s*=108.883,[e,i,s]},n.lab.lch=function(t){const e=t[0],i=t[1],s=t[2];let r;return r=360*Math.atan2(s,i)/2/Math.PI,r<0&&(r+=360),[e,Math.sqrt(i*i+s*s),r]},n.lch.lab=function(t){const e=t[0],i=t[1],s=t[2]/360*2*Math.PI;return[e,i*Math.cos(s),i*Math.sin(s)]},n.rgb.ansi16=function(t,e=null){const[i,s,r]=t;let o=null===e?n.rgb.hsv(t)[2]:e;if(o=Math.round(o/50),0===o)return 30;let u=30+(Math.round(r/255)<<2|Math.round(s/255)<<1|Math.round(i/255));return 2===o&&(u+=60),u},n.hsv.ansi16=function(t){return n.rgb.ansi16(n.hsv.rgb(t),t[2])},n.rgb.ansi256=function(t){const e=t[0],i=t[1],s=t[2];return e===i&&i===s?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(i/255*5)+Math.round(s/255*5)},n.ansi16.rgb=function(t){let e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];const i=.5*(1+~~(t>50));return[(1&e)*i*255,(e>>1&1)*i*255,(e>>2&1)*i*255]},n.ansi256.rgb=function(t){if(t>=232){const e=10*(t-232)+8;return[e,e,e]}let e;return t-=16,[Math.floor(t/36)/5*255,Math.floor((e=t%36)/6)/5*255,e%6/5*255]},n.rgb.hex=function(t){const e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},n.hex.rgb=function(t){const e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let i=e[0];3===e[0].length&&(i=i.split("").map((t=>t+t)).join(""));const s=parseInt(i,16);return[s>>16&255,s>>8&255,255&s]},n.rgb.hcg=function(t){const e=t[0]/255,i=t[1]/255,s=t[2]/255,r=Math.max(Math.max(e,i),s),n=Math.min(Math.min(e,i),s),o=r-n;let u,a;return u=o<1?n/(1-o):0,a=o<=0?0:r===e?(i-s)/o%6:r===i?2+(s-e)/o:4+(e-i)/o,a/=6,a%=1,[360*a,100*o,100*u]},n.hsl.hcg=function(t){const e=t[1]/100,i=t[2]/100,s=i<.5?2*e*i:2*e*(1-i);let r=0;return s<1&&(r=(i-.5*s)/(1-s)),[t[0],100*s,100*r]},n.hsv.hcg=function(t){const e=t[1]/100,i=t[2]/100,s=e*i;let r=0;return s<1&&(r=(i-s)/(1-s)),[t[0],100*s,100*r]},n.hcg.rgb=function(t){const e=t[0]/360,i=t[1]/100,s=t[2]/100;if(0===i)return[255*s,255*s,255*s];const r=[0,0,0],n=e%1*6,o=n%1,u=1-o;let a=0;switch(Math.floor(n)){case 0:r[0]=1,r[1]=o,r[2]=0;break;case 1:r[0]=u,r[1]=1,r[2]=0;break;case 2:r[0]=0,r[1]=1,r[2]=o;break;case 3:r[0]=0,r[1]=u,r[2]=1;break;case 4:r[0]=o,r[1]=0,r[2]=1;break;default:r[0]=1,r[1]=0,r[2]=u}return a=(1-i)*s,[255*(i*r[0]+a),255*(i*r[1]+a),255*(i*r[2]+a)]},n.hcg.hsv=function(t){const e=t[1]/100,i=e+t[2]/100*(1-e);let s=0;return i>0&&(s=e/i),[t[0],100*s,100*i]},n.hcg.hsl=function(t){const e=t[1]/100,i=t[2]/100*(1-e)+.5*e;let s=0;return i>0&&i<.5?s=e/(2*i):i>=.5&&i<1&&(s=e/(2*(1-i))),[t[0],100*s,100*i]},n.hcg.hwb=function(t){const e=t[1]/100,i=e+t[2]/100*(1-e);return[t[0],100*(i-e),100*(1-i)]},n.hwb.hcg=function(t){const e=t[1]/100,i=1-t[2]/100,s=i-e;let r=0;return s<1&&(r=(i-s)/(1-s)),[t[0],100*s,100*r]},n.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},n.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},n.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},n.gray.hsl=function(t){return[0,0,t[0]]},n.gray.hsv=n.gray.hsl,n.gray.hwb=function(t){return[0,100,t[0]]},n.gray.cmyk=function(t){return[0,0,0,t[0]]},n.gray.lab=function(t){return[t[0],0,0]},n.gray.hex=function(t){const e=255&Math.round(t[0]/100*255),i=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(i.length)+i},n.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}},2085:(t,e,i)=>{const s=i(8168),r=i(4111),n={};Object.keys(s).forEach((t=>{n[t]={},Object.defineProperty(n[t],"channels",{value:s[t].channels}),Object.defineProperty(n[t],"labels",{value:s[t].labels});const e=r(t);Object.keys(e).forEach((i=>{const s=e[i];n[t][i]=function(t){const e=function(...e){const i=e[0];if(null==i)return i;i.length>1&&(e=i);const s=t(e);if("object"==typeof s)for(let t=s.length,e=0;e<t;e++)s[e]=Math.round(s[e]);return s};return"conversion"in t&&(e.conversion=t.conversion),e}(s),n[t][i].raw=function(t){const e=function(...e){const i=e[0];return null==i?i:(i.length>1&&(e=i),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}(s)}))})),t.exports=n},4111:(t,e,i)=>{const s=i(8168);function r(t,e){return function(i){return e(t(i))}}function n(t,e){const i=[e[t].parent,t];let n=s[e[t].parent][t],o=e[t].parent;for(;e[o].parent;)i.unshift(e[o].parent),n=r(s[e[o].parent][o],n),o=e[o].parent;return n.conversion=i,n}t.exports=function(t){const e=function(t){const e=function(){const t={},e=Object.keys(s);for(let i=e.length,s=0;s<i;s++)t[e[s]]={distance:-1,parent:null};return t}(),i=[t];for(e[t].distance=0;i.length;){const t=i.pop(),r=Object.keys(s[t]);for(let s=r.length,n=0;n<s;n++){const s=r[n],o=e[s];-1===o.distance&&(o.distance=e[t].distance+1,o.parent=t,i.unshift(s))}}return e}(t),i={},r=Object.keys(e);for(let t=r.length,s=0;s<t;s++){const t=r[s];null!==e[t].parent&&(i[t]=n(t,e))}return i}},8874:t=>{"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},7121:(t,e)=>{let i=!("NO_COLOR"in process.env)&&("FORCE_COLOR"in process.env||"win32"===process.platform||null!=process.stdout&&process.stdout.isTTY&&process.env.TERM&&"dumb"!==process.env.TERM);const s=(t,e,s,r)=>n=>i?t+(~(n+="").indexOf(e,4)?n.replace(s,r):n)+e:n,r=(t,e)=>s(`[${t}m`,`[${e}m`,new RegExp(`\\x1b\\[${e}m`,"g"),`[${t}m`);e.options=Object.defineProperty({},"enabled",{get:()=>i,set:t=>i=t}),e.reset=r(0,0),e.bold=s("[1m","[22m",/\x1b\[22m/g,"[22m[1m"),e.dim=s("[2m","[22m",/\x1b\[22m/g,"[22m[2m"),e.italic=r(3,23),e.underline=r(4,24),e.inverse=r(7,27),e.hidden=r(8,28),e.strikethrough=r(9,29),e.black=r(30,39),e.red=r(31,39),e.green=r(32,39),e.yellow=r(33,39),e.blue=r(34,39),e.magenta=r(35,39),e.cyan=r(36,39),e.white=r(37,39),e.gray=r(90,39),e.bgBlack=r(40,49),e.bgRed=r(41,49),e.bgGreen=r(42,49),e.bgYellow=r(43,49),e.bgBlue=r(44,49),e.bgMagenta=r(45,49),e.bgCyan=r(46,49),e.bgWhite=r(47,49),e.blackBright=r(90,39),e.redBright=r(91,39),e.greenBright=r(92,39),e.yellowBright=r(93,39),e.blueBright=r(94,39),e.magentaBright=r(95,39),e.cyanBright=r(96,39),e.whiteBright=r(97,39),e.bgBlackBright=r(100,49),e.bgRedBright=r(101,49),e.bgGreenBright=r(102,49),e.bgYellowBright=r(103,49),e.bgBlueBright=r(104,49),e.bgMagentaBright=r(105,49),e.bgCyanBright=r(106,49),e.bgWhiteBright=r(107,49)},6854:(t,e,i)=>{t.exports=i(7866)},7866:t=>{t.exports=function(t,e,i){if(i=i||!1,!t)throw new Error("tdArray must be provided");if(!e)throw new Error("indicator must be provided");t=JSON.parse(JSON.stringify(t));var s={},r=0,n={};t.forEach((function(r,o){r.forEach((function(u,a){var l=e(u,a,o),c=[];if(t[o-1]&&void 0!==t[o-1][a]&&c.push(n[a+"_"+(o-1)]),void 0!==r[a-1]&&c.push(n[a-1+"_"+o]),i||(t[o-1]&&void 0!==t[o-1][a-1]&&c.push(n[a-1+"_"+(o-1)]),t[o-1]&&void 0!==t[o-1][a+1]&&c.push(n[a+1+"_"+(o-1)])),c.length){var p=!1;c.forEach((function(t){if(t.identifier==l)if(p){var e=n[a+"_"+o];t.domainId!=e.domainId&&(i=t.domainId,r=e.domainId,c=s[i],h=s[r],c.identifier==h.identifier&&(h.domainId=c.domainId,h.points.forEach((function(t){t.domainId=c.domainId,n[t.x+"_"+t.y].domainId=c.domainId})),c.points=c.points.concat(h.points),delete s[r]))}else!function(t,e,i,r){var o=s[r],u={value:t,x:e,y:i,identifier:o.identifier,domainId:r};n[e+"_"+i]={value:t,identifier:o.identifier,domainId:r},o.points.push(u)}(u,a,o,t.domainId),p=!0;var i,r,c,h})),p||h(u,a,o,l)}else h(u,a,o,l)}))}));var o={domains:[],totalDomains:0,groupByIdentifier:{},totalIdentifiers:0},u=null,a=null,l=null;for(u in s)(l=s[u]).bounding=c(l.points),a=l.identifier,o.domains.push(l),o.totalDomains++,a in o.groupByIdentifier||(o.groupByIdentifier[a]=[],o.totalIdentifiers++),o.groupByIdentifier[a].push(l);function c(t){var e=null,i=null,s=null,r=null;return t.forEach((function(t){(null===e||t.x<e)&&(e=t.x),(null===i||t.y<i)&&(i=t.y),(null===s||t.x>s)&&(s=t.x),(null===r||t.y>r)&&(r=t.y)})),{x:e,y:i,w:s-e,h:r-i}}function h(t,e,i,o){var u={identifier:o,domainId:++r,bounding:{},points:[]},a={value:t,x:e,y:i,identifier:o,domainId:u.domainId};n[e+"_"+i]={value:t,identifier:o,domainId:u.domainId},u.points.push(a),s[u.domainId]=u}return o}},809:t=>{"use strict";t.exports=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F|\uD83D\uDC68(?:\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68\uD83C\uDFFB|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83D[\uDC66\uDC67]|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708])\uFE0F|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C[\uDFFB-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)\uD83C\uDFFB|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB\uDFFC])|\uD83D\uDC69(?:\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFD])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83C\uDFF4\u200D\u2620)\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDF6\uD83C\uDDE6|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDBB\uDDD2-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5\uDEEB\uDEEC\uDEF4-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g}},4031:(t,e,i)=>{"use strict";const s=i(2357),r=i(8614),n=i(3546);class o extends r{constructor(t,e){super(),this.options=n.merge({},t),this.answers={...e}}register(t,e){if(n.isObject(t)){for(let e of Object.keys(t))this.register(e,t[e]);return this}s.equal(typeof e,"function","expected a function");let i=t.toLowerCase();return e.prototype instanceof this.Prompt?this.prompts[i]=e:this.prompts[i]=e(this.Prompt,this),this}async prompt(t=[]){for(let e of[].concat(t))try{"function"==typeof e&&(e=await e.call(this)),await this.ask(n.merge({},this.options,e))}catch(t){return Promise.reject(t)}return this.answers}async ask(t){"function"==typeof t&&(t=await t.call(this));let e=n.merge({},this.options,t),{type:i,name:r}=t,{set:o,get:u}=n;if("function"==typeof i&&(i=await i.call(this,t,this.answers)),!i)return this.answers[r];s(this.prompts[i],`Prompt "${i}" is not registered`);let a=new this.prompts[i](e),l=u(this.answers,r);a.state.answers=this.answers,a.enquirer=this,r&&a.on("submit",(t=>{this.emit("answer",r,t,a),o(this.answers,r,t)}));let c=a.emit.bind(a);return a.emit=(...t)=>(this.emit.call(this,...t),c(...t)),this.emit("prompt",a,this),e.autofill&&null!=l?(a.value=a.input=l,"show"===e.autofill&&await a.submit()):l=a.value=await a.run(),l}use(t){return t.call(this,this),this}set Prompt(t){this._Prompt=t}get Prompt(){return this._Prompt||this.constructor.Prompt}get prompts(){return this.constructor.prompts}static set Prompt(t){this._Prompt=t}static get Prompt(){return this._Prompt||i(232)}static get prompts(){return i(9594)}static get types(){return i(9920)}static get prompt(){const t=(e,...i)=>{let s=new this(...i),r=s.emit.bind(s);return s.emit=(...e)=>(t.emit(...e),r(...e)),s.prompt(e)};return n.mixinEmitter(t,new r),t}}n.mixinEmitter(o,new r);const u=o.prompts;for(let t of Object.keys(u)){let e=t.toLowerCase(),i=e=>new u[t](e).run();o.prompt[e]=i,o[e]=i,o[t]||Reflect.defineProperty(o,t,{get:()=>u[t]})}const a=t=>{n.defineExport(o,t,(()=>o.types[t]))};a("ArrayPrompt"),a("AuthPrompt"),a("BooleanPrompt"),a("NumberPrompt"),a("StringPrompt"),t.exports=o},4907:(t,e,i)=>{"use strict";const s="Apple_Terminal"===process.env.TERM_PROGRAM,r=i(730),n=i(3546),o=t.exports=e,u="[";let a=!1;const l=o.code={bell:"",beep:"",beginning:"[G",down:"[J",esc:u,getPosition:"[6n",hide:"[?25l",line:"[2K",lineEnd:"[K",lineStart:"[1K",restorePosition:u+(s?"8":"u"),savePosition:u+(s?"7":"s"),screen:"[2J",show:"[?25h",up:"[1J"},c=o.cursor={get hidden(){return a},hide:()=>(a=!0,l.hide),show:()=>(a=!1,l.show),forward:(t=1)=>`[${t}C`,backward:(t=1)=>`[${t}D`,nextLine:(t=1)=>"[E".repeat(t),prevLine:(t=1)=>"[F".repeat(t),up:(t=1)=>t?`[${t}A`:"",down:(t=1)=>t?`[${t}B`:"",right:(t=1)=>t?`[${t}C`:"",left:(t=1)=>t?`[${t}D`:"",to:(t,e)=>e?`[${e+1};${t+1}H`:`[${t+1}G`,move(t=0,e=0){let i="";return i+=t<0?c.left(-t):t>0?c.right(t):"",i+=e<0?c.up(-e):e>0?c.down(e):"",i},restore(t={}){let{after:e,cursor:i,initial:s,input:r,prompt:u,size:a,value:l}=t;if(s=n.isPrimitive(s)?String(s):"",r=n.isPrimitive(r)?String(r):"",l=n.isPrimitive(l)?String(l):"",a){let t=o.cursor.up(a)+o.cursor.to(u.length),e=r.length-i;return e>0&&(t+=o.cursor.left(e)),t}if(l||e){let t=!r&&s?-s.length:-r.length+i;return e&&(t-=e.length),""===r&&s&&!u.includes(s)&&(t+=s.length),o.cursor.move(t)}}},h=o.erase={screen:l.screen,up:l.up,down:l.down,line:l.line,lineEnd:l.lineEnd,lineStart:l.lineStart,lines(t){let e="";for(let i=0;i<t;i++)e+=o.erase.line+(i<t-1?o.cursor.up(1):"");return t&&(e+=o.code.beginning),e}};o.clear=(t="",e=process.stdout.columns)=>{if(!e)return h.line+c.to(0);let i=t.split(/\r?\n/),s=0;for(let t of i)s+=1+Math.floor(Math.max((n=t,[...r.unstyle(n)].length-1),0)/e);var n;return(h.line+c.prevLine()).repeat(s-1)+h.line+c.to(0)}},4726:(t,e)=>{"use strict";e.ctrl={a:"first",b:"backward",c:"cancel",d:"deleteForward",e:"last",f:"forward",g:"reset",i:"tab",k:"cutForward",l:"reset",n:"newItem",m:"cancel",j:"submit",p:"search",r:"remove",s:"save",u:"undo",w:"cutLeft",x:"toggleCursor",v:"paste"},e.shift={up:"shiftUp",down:"shiftDown",left:"shiftLeft",right:"shiftRight",tab:"prev"},e.fn={up:"pageUp",down:"pageDown",left:"pageLeft",right:"pageRight",delete:"deleteForward"},e.option={b:"backward",f:"forward",d:"cutRight",left:"cutLeft",up:"altUp",down:"altDown"},e.keys={pageup:"pageUp",pagedown:"pageDown",home:"home",end:"end",cancel:"cancel",delete:"deleteForward",backspace:"delete",down:"down",enter:"submit",escape:"cancel",left:"left",space:"space",number:"number",return:"submit",right:"right",tab:"next",up:"up"}},3736:t=>{"use strict";const e=t=>(t=>t.filter(((e,i)=>t.lastIndexOf(e)===i)))(t).filter(Boolean);t.exports=(t,i={},s="")=>{let r,n,{past:o=[],present:u=""}=i;switch(t){case"prev":case"undo":return r=o.slice(0,o.length-1),n=o[o.length-1]||"",{past:e([s,...r]),present:n};case"next":case"redo":return r=o.slice(1),n=o[0]||"",{past:e([...r,s]),present:n};case"save":return{past:e([...o,s]),present:""};case"remove":return n=e(o.filter((t=>t!==s))),u="",n.length&&(u=n.pop()),{past:n,present:u};default:throw new Error(`Invalid action: "${t}"`)}}},7189:(t,e,i)=>{"use strict";const s=i(730);class r{constructor(t){this.name=t.key,this.field=t.field||{},this.value=((t="")=>"string"==typeof t?t.replace(/^['"]|['"]$/g,""):"")(t.initial||this.field.initial||""),this.message=t.message||this.name,this.cursor=0,this.input="",this.lines=[]}}function n(t,e,i,s){return(i,r,n,o)=>"function"==typeof n.field[t]?n.field[t].call(e,i,r,n,o):[s,i].find((t=>e.isValue(t)))}t.exports=async t=>{let e=t.options,i=new Set(!0===e.required?[]:e.required||[]),o={...e.values,...e.initial},{tabstops:u,items:a,keys:l}=await(async(t={},e={},i=(t=>t))=>{let s=new Set,n=t.fields||[],o=t.template,u=[],a=[],l=[],c=1;"function"==typeof o&&(o=await o());let h=-1,p=()=>o[++h],d=()=>o[h+1],f=t=>{t.line=c,u.push(t)};for(f({type:"bos",value:""});h<o.length-1;){let t=p();if(/^[^\S\n ]$/.test(t)){f({type:"text",value:t});continue}if("\n"===t){f({type:"newline",value:t}),c++;continue}if("\\"===t){t+=p(),f({type:"text",value:t});continue}if(("$"===t||"#"===t||"{"===t)&&"{"===d()){t+=p();let o,u={type:"template",open:t,inner:"",close:"",value:t};for(;o=p();){if("}"===o){"}"===d()&&(o+=p()),u.value+=o,u.close=o;break}":"===o?(u.initial="",u.key=u.inner):void 0!==u.initial&&(u.initial+=o),u.value+=o,u.inner+=o}u.template=u.open+(u.initial||u.inner)+u.close,u.key=u.key||u.inner,e.hasOwnProperty(u.key)&&(u.initial=e[u.key]),u=i(u),f(u),l.push(u.key),s.add(u.key);let c=a.find((t=>t.name===u.key));u.field=n.find((t=>t.name===u.key)),c||(c=new r(u),a.push(c)),c.lines.push(u.line-1);continue}let o=u[u.length-1];"text"===o.type&&o.line===c?o.value+=t:f({type:"text",value:t})}return f({type:"eos",value:""}),{input:o,tabstops:u,unique:s,keys:l,items:a}})(e,o),c=n("result",t),h=n("format",t),p=n("validate",t,0,!0),d=t.isValue.bind(t);return async(r={},n=!1)=>{let o=0;r.required=i,r.items=a,r.keys=l,r.output="";let f=async(t,e,i,s)=>{let r=await p(t,e,i,s);return!1===r?"Invalid field "+i.name:r};for(let i of u){let u=i.value,l=i.key;if("template"===i.type){if("template"===i.type){let p=a.find((t=>t.name===l));!0===e.required&&r.required.add(p.name);let D=[p.input,r.values[p.value],p.value,u].find(d),m=(p.field||{}).message||i.inner;if(n){let t=await f(r.values[l],r,p,o);if(t&&"string"==typeof t||!1===t){r.invalid.set(l,t);continue}r.invalid.delete(l);let e=await c(r.values[l],r,p,o);r.output+=s.unstyle(e);continue}p.placeholder=!1;let g=u;u=await h(u,r,p,o),D!==u?(r.values[l]=D,u=t.styles.typing(D),r.missing.delete(m)):(r.values[l]=void 0,D=`<${m}>`,u=t.styles.primary(D),p.placeholder=!0,r.required.has(l)&&r.missing.add(m)),r.missing.has(m)&&r.validating&&(u=t.styles.warning(D)),r.invalid.has(l)&&r.validating&&(u=t.styles.danger(D)),o===r.index&&(u=g!==u?t.styles.underline(u):t.styles.heading(s.unstyle(u))),o++}u&&(r.output+=u)}else u&&(r.output+=u)}let D=r.output.split("\n").map((t=>" "+t)),m=a.length,g=0;for(let e of a)r.invalid.has(e.name)&&e.lines.forEach((t=>{" "===D[t][0]&&(D[t]=r.styles.danger(r.symbols.bullet)+D[t].slice(1))})),t.isValue(r.values[e.name])&&g++;return r.completed=(g/m*100).toFixed(0),r.output=D.join("\n"),r.output}}},8914:(t,e,i)=>{"use strict";const s=i(1058),r=i(4726),n=/^(?:\x1b)([a-zA-Z0-9])$/,o=/^(?:\x1b+)(O|N|\[|\[\[)(?:(\d+)(?:;(\d+))?([~^$])|(?:1;)?(\d+)?([a-zA-Z]))/,u={OP:"f1",OQ:"f2",OR:"f3",OS:"f4","[11~":"f1","[12~":"f2","[13~":"f3","[14~":"f4","[[A":"f1","[[B":"f2","[[C":"f3","[[D":"f4","[[E":"f5","[15~":"f5","[17~":"f6","[18~":"f7","[19~":"f8","[20~":"f9","[21~":"f10","[23~":"f11","[24~":"f12","[A":"up","[B":"down","[C":"right","[D":"left","[E":"clear","[F":"end","[H":"home",OA:"up",OB:"down",OC:"right",OD:"left",OE:"clear",OF:"end",OH:"home","[1~":"home","[2~":"insert","[3~":"delete","[4~":"end","[5~":"pageup","[6~":"pagedown","[[5~":"pageup","[[6~":"pagedown","[7~":"home","[8~":"end","[a":"up","[b":"down","[c":"right","[d":"left","[e":"clear","[2$":"insert","[3$":"delete","[5$":"pageup","[6$":"pagedown","[7$":"home","[8$":"end",Oa:"up",Ob:"down",Oc:"right",Od:"left",Oe:"clear","[2^":"insert","[3^":"delete","[5^":"pageup","[6^":"pagedown","[7^":"home","[8^":"end","[Z":"tab"},a=(t="",e={})=>{let i,s={name:e.name,ctrl:!1,meta:!1,shift:!1,option:!1,sequence:t,raw:t,...e};if(Buffer.isBuffer(t)?t[0]>127&&void 0===t[1]?(t[0]-=128,t=""+String(t)):t=String(t):void 0!==t&&"string"!=typeof t?t=String(t):t||(t=s.sequence||""),s.sequence=s.sequence||t||s.name,"\r"===t)s.raw=void 0,s.name="return";else if("\n"===t)s.name="enter";else if("\t"===t)s.name="tab";else if("\b"===t||""===t||""===t||"\b"===t)s.name="backspace",s.meta=""===t.charAt(0);else if(""===t||""===t)s.name="escape",s.meta=2===t.length;else if(" "===t||" "===t)s.name="space",s.meta=2===t.length;else if(t<="")s.name=String.fromCharCode(t.charCodeAt(0)+"a".charCodeAt(0)-1),s.ctrl=!0;else if(1===t.length&&t>="0"&&t<="9")s.name="number";else if(1===t.length&&t>="a"&&t<="z")s.name=t;else if(1===t.length&&t>="A"&&t<="Z")s.name=t.toLowerCase(),s.shift=!0;else if(i=n.exec(t))s.meta=!0,s.shift=/^[A-Z]$/.test(i[1]);else if(i=o.exec(t)){let e=[...t];""===e[0]&&""===e[1]&&(s.option=!0);let r=[i[1],i[2],i[4],i[6]].filter(Boolean).join(""),n=(i[3]||i[5]||1)-1;s.ctrl=!!(4&n),s.meta=!!(10&n),s.shift=!!(1&n),s.code=r,s.name=u[r],s.shift=function(t){return["[a","[b","[c","[d","[e","[2$","[3$","[5$","[6$","[7$","[8$","[Z"].includes(t)}(r)||s.shift,s.ctrl=function(t){return["Oa","Ob","Oc","Od","Oe","[2^","[3^","[5^","[6^","[7^","[8^"].includes(t)}(r)||s.ctrl}return s};a.listen=(t={},e)=>{let{stdin:i}=t;if(!i||i!==process.stdin&&!i.isTTY)throw new Error("Invalid stream passed");let r=s.createInterface({terminal:!0,input:i});s.emitKeypressEvents(i,r);let n=(t,i)=>e(t,a(t,i),r),o=i.isRaw;return i.isTTY&&i.setRawMode(!0),i.on("keypress",n),r.resume(),()=>{i.isTTY&&i.setRawMode(o),i.removeListener("keypress",n),r.pause(),r.close()}},a.action=(t,e,i)=>{let s={...r,...i};return e.ctrl?(e.action=s.ctrl[e.name],e):e.option&&s.option?(e.action=s.option[e.name],e):e.shift?(e.action=s.shift[e.name],e):(e.action=s.keys[e.name],e)},t.exports=a},2786:(t,e,i)=>{"use strict";const s=i(3546);t.exports=(t,e={})=>{t.cursorHide();let{input:i="",initial:r="",pos:n,showCursor:o=!0,color:u}=e,a=u||t.styles.placeholder,l=s.inverse(t.styles.primary),c=e=>l(t.styles.black(e)),h=i,p=c(" ");if(t.blink&&!0===t.blink.off&&(c=t=>t,p=""),o&&0===n&&""===r&&""===i)return c(" ");if(o&&0===n&&(i===r||""===i))return c(r[0])+a(r.slice(1));r=s.isPrimitive(r)?`${r}`:"",i=s.isPrimitive(i)?`${i}`:"";let d=r&&r.startsWith(i)&&r!==i,f=d?c(r[i.length]):p;if(n!==i.length&&!0===o&&(h=i.slice(0,n)+c(i[n])+i.slice(n+1),f=""),!1===o&&(f=""),d){let e=t.styles.unstyle(h+f);return h+f+a(r.slice(e.length))}return h+f}},232:(t,e,i)=>{"use strict";const s=i(8614),r=i(730),n=i(8914),o=i(3940),u=i(6873),a=i(9227),l=i(3546),c=i(4907);class h extends s{constructor(t={}){super(),this.name=t.name,this.type=t.type,this.options=t,a(this),o(this),this.state=new u(this),this.initial=[t.initial,t.default].find((t=>null!=t)),this.stdout=t.stdout||process.stdout,this.stdin=t.stdin||process.stdin,this.scale=t.scale||1,this.term=this.options.term||process.env.TERM_PROGRAM,this.margin=function(t){"number"==typeof t&&(t=[t,t,t,t]);let e=[].concat(t||[]),i=t=>t%2==0?"\n":" ",s=[];for(let t=0;t<4;t++){let r=i(t);e[t]?s.push(r.repeat(e[t])):s.push("")}return s}(this.options.margin),this.setMaxListeners(0),function(t){let e=e=>void 0===t[e]||"function"==typeof t[e],i=["actions","choices","initial","margin","roles","styles","symbols","theme","timers","value"],s=["body","footer","error","header","hint","indicator","message","prefix","separator","skip"];for(let r of Object.keys(t.options)){if(i.includes(r))continue;if(/^on[A-Z]/.test(r))continue;let n=t.options[r];"function"==typeof n&&e(r)?s.includes(r)||(t[r]=n.bind(t)):"function"!=typeof t[r]&&(t[r]=n)}}(this)}async keypress(t,e={}){this.keypressed=!0;let i=n.action(t,n(t,e),this.options.actions);this.state.keypress=i,this.emit("keypress",t,i),this.emit("state",this.state.clone());let s=this.options[i.action]||this[i.action]||this.dispatch;if("function"==typeof s)return await s.call(this,t,i);this.alert()}alert(){delete this.state.alert,!1===this.options.show?this.emit("alert"):this.stdout.write(c.code.beep)}cursorHide(){this.stdout.write(c.cursor.hide()),l.onExit((()=>this.cursorShow()))}cursorShow(){this.stdout.write(c.cursor.show())}write(t){t&&(this.stdout&&!1!==this.state.show&&this.stdout.write(t),this.state.buffer+=t)}clear(t=0){let e=this.state.buffer;this.state.buffer="",(e||t)&&!1!==this.options.show&&this.stdout.write(c.cursor.down(t)+c.clear(e,this.width))}restore(){if(this.state.closed||!1===this.options.show)return;let{prompt:t,after:e,rest:i}=this.sections(),{cursor:s,initial:r="",input:n="",value:o=""}=this,u={after:e,cursor:s,initial:r,input:n,prompt:t,size:this.state.size=i.length,value:o},a=c.cursor.restore(u);a&&this.stdout.write(a)}sections(){let{buffer:t,input:e,prompt:i}=this.state;i=r.unstyle(i);let s=r.unstyle(t),n=s.indexOf(i),o=s.slice(0,n),u=s.slice(n).split("\n"),a=u[0],l=u[u.length-1],c=(i+(e?" "+e:"")).length,h=c<a.length?a.slice(c+1):"";return{header:o,prompt:a,after:h,rest:u.slice(1),last:l}}async submit(){this.state.submitted=!0,this.state.validating=!0,this.options.onSubmit&&await this.options.onSubmit.call(this,this.name,this.value,this);let t=this.state.error||await this.validate(this.value,this.state);if(!0!==t){let e="\n"+this.symbols.pointer+" ";return e+="string"==typeof t?t.trim():"Invalid input",this.state.error="\n"+this.styles.danger(e),this.state.submitted=!1,await this.render(),await this.alert(),this.state.validating=!1,void(this.state.error=void 0)}this.state.validating=!1,await this.render(),await this.close(),this.value=await this.result(this.value),this.emit("submit",this.value)}async cancel(t){this.state.cancelled=this.state.submitted=!0,await this.render(),await this.close(),"function"==typeof this.options.onCancel&&await this.options.onCancel.call(this,this.name,this.value,this),this.emit("cancel",await this.error(t))}async close(){this.state.closed=!0;try{let t=this.sections(),e=Math.ceil(t.prompt.length/this.width);t.rest&&this.write(c.cursor.down(t.rest.length)),this.write("\n".repeat(e))}catch(t){}this.emit("close")}start(){this.stop||!1===this.options.show||(this.stop=n.listen(this,this.keypress.bind(this)),this.once("close",this.stop))}async skip(){return this.skipped=!0===this.options.skip,"function"==typeof this.options.skip&&(this.skipped=await this.options.skip.call(this,this.name,this.value)),this.skipped}async initialize(){let{format:t,options:e,result:i}=this;if(this.format=()=>t.call(this,this.value),this.result=()=>i.call(this,this.value),"function"==typeof e.initial&&(this.initial=await e.initial.call(this,this)),"function"==typeof e.onRun&&await e.onRun.call(this,this),"function"==typeof e.onSubmit){let t=e.onSubmit.bind(this),i=this.submit.bind(this);delete this.options.onSubmit,this.submit=async()=>(await t(this.name,this.value,this),i())}await this.start(),await this.render()}render(){throw new Error("expected prompt to have a custom render method")}run(){return new Promise((async(t,e)=>{if(this.once("submit",t),this.once("cancel",e),await this.skip())return this.render=()=>{},this.submit();await this.initialize(),this.emit("run")}))}async element(t,e,i){let{options:s,state:r,symbols:n,timers:o}=this,u=o&&o[t];r.timer=u;let a=s[t]||r[t]||n[t],l=e&&null!=e[t]?e[t]:await a;if(""===l)return l;let c=await this.resolve(l,r,e,i);return!c&&e&&e[t]?this.resolve(a,r,e,i):c}async prefix(){let t=await this.element("prefix")||this.symbols,e=this.timers&&this.timers.prefix,i=this.state;return i.timer=e,l.isObject(t)&&(t=t[i.status]||t.pending),l.hasColor(t)?t:(this.styles[i.status]||this.styles.pending)(t)}async message(){let t=await this.element("message");return l.hasColor(t)?t:this.styles.strong(t)}async separator(){let t=await this.element("separator")||this.symbols,e=this.timers&&this.timers.separator,i=this.state;i.timer=e;let s=t[i.status]||t.pending||i.separator,r=await this.resolve(s,i);return l.isObject(r)&&(r=r[i.status]||r.pending),l.hasColor(r)?r:this.styles.muted(r)}async pointer(t,e){let i=await this.element("pointer",t,e);if("string"==typeof i&&l.hasColor(i))return i;if(i){let t=this.styles,s=this.index===e,r=s?t.primary:t=>t,n=await this.resolve(i[s?"on":"off"]||i,this.state),o=l.hasColor(n)?n:r(n);return s?o:" ".repeat(n.length)}}async indicator(t,e){let i=await this.element("indicator",t,e);if("string"==typeof i&&l.hasColor(i))return i;if(i){let e=this.styles,s=!0===t.enabled,r=s?e.success:e.dark,n=i[s?"on":"off"]||i;return l.hasColor(n)?n:r(n)}return""}body(){return null}footer(){if("pending"===this.state.status)return this.element("footer")}header(){if("pending"===this.state.status)return this.element("header")}async hint(){if("pending"===this.state.status&&!this.isValue(this.state.input)){let t=await this.element("hint");return l.hasColor(t)?t:this.styles.muted(t)}}error(t){return this.state.submitted?"":t||this.state.error}format(t){return t}result(t){return t}validate(t){return!0!==this.options.required||this.isValue(t)}isValue(t){return null!=t&&""!==t}resolve(t,...e){return l.resolve(this,t,...e)}get base(){return h.prototype}get style(){return this.styles[this.state.status]}get height(){return this.options.rows||l.height(this.stdout,25)}get width(){return this.options.columns||l.width(this.stdout,80)}get size(){return{width:this.width,height:this.height}}set cursor(t){this.state.cursor=t}get cursor(){return this.state.cursor}set input(t){this.state.input=t}get input(){return this.state.input}set value(t){this.state.value=t}get value(){let{input:t,value:e}=this.state,i=[e,t].find(this.isValue.bind(this));return this.isValue(i)?i:this.initial}static get prompt(){return t=>new this(t).run()}}t.exports=h},9317:(t,e,i)=>{"use strict";const s=i(3466);t.exports=class extends s{constructor(t){super(t),this.cursorShow()}moveCursor(t){this.state.cursor+=t}dispatch(t){return this.append(t)}space(t){return this.options.multiple?super.space(t):this.append(t)}append(t){let{cursor:e,input:i}=this.state;return this.input=i.slice(0,e)+t+i.slice(e),this.moveCursor(1),this.complete()}delete(){let{cursor:t,input:e}=this.state;return e?(this.input=e.slice(0,t-1)+e.slice(t),this.moveCursor(-1),this.complete()):this.alert()}deleteForward(){let{cursor:t,input:e}=this.state;return void 0===e[t]?this.alert():(this.input=`${e}`.slice(0,t)+`${e}`.slice(t+1),this.complete())}number(t){return this.append(t)}async complete(){this.completing=!0,this.choices=await this.suggest(this.input,this.state._choices),this.state.limit=void 0,this.index=Math.min(Math.max(this.visible.length-1,0),this.index),await this.render(),this.completing=!1}suggest(t=this.input,e=this.state._choices){if("function"==typeof this.options.suggest)return this.options.suggest.call(this,t,e);let i=t.toLowerCase();return e.filter((t=>t.message.toLowerCase().includes(i)))}pointer(){return""}format(){if(!this.focused)return this.input;if(this.options.multiple&&this.state.submitted)return this.selected.map((t=>this.styles.primary(t.message))).join(", ");if(this.state.submitted){let t=this.value=this.input=this.focused.value;return this.styles.primary(t)}return this.input}async render(){if("pending"!==this.state.status)return super.render();let t=this.options.highlight?this.options.highlight.bind(this):this.styles.placeholder,e=((t,e)=>{let i=t.toLowerCase();return t=>{let s=t.toLowerCase().indexOf(i),r=e(t.slice(s,s+i.length));return s>=0?t.slice(0,s)+r+t.slice(s+i.length):t}})(this.input,t),i=this.choices;this.choices=i.map((t=>({...t,message:e(t.message)}))),await super.render(),this.choices=i}submit(){return this.options.multiple&&(this.value=this.selected.map((t=>t.name))),super.submit()}}},7186:(t,e,i)=>{"use strict";const s=i(6926);function r(t,e){return t.username===this.options.username&&t.password===this.options.password}const n=(t=r)=>{const e=[{name:"username",message:"username"},{name:"password",message:"password",format(t){return this.options.showPassword?t:(this.state.submitted?this.styles.primary:this.styles.muted)(this.symbols.asterisk.repeat(t.length))}}];class i extends(s.create(t)){constructor(t){super({...t,choices:e})}static create(t){return n(t)}}return i};t.exports=n()},1291:(t,e,i)=>{"use strict";const s=i(3838);t.exports=class extends s{constructor(t){super(t),this.default=this.options.default||(this.initial?"(Y/n)":"(y/N)")}}},848:(t,e,i)=>{"use strict";const s=i(3466),r=i(1826).prototype;t.exports=class extends s{constructor(t){super({...t,multiple:!0}),this.align=[this.options.align,"left"].find((t=>null!=t)),this.emptyError="",this.values={}}dispatch(t,e){let i=this.focused,s=i.parent||{};return i.editable||s.editable||"a"!==t&&"i"!==t?r.dispatch.call(this,t,e):super[t]()}append(t,e){return r.append.call(this,t,e)}delete(t,e){return r.delete.call(this,t,e)}space(t){return this.focused.editable?this.append(t):super.space()}number(t){return this.focused.editable?this.append(t):super.number(t)}next(){return this.focused.editable?r.next.call(this):super.next()}prev(){return this.focused.editable?r.prev.call(this):super.prev()}async indicator(t,e){let i=t.indicator||"",s=t.editable?i:super.indicator(t,e);return await this.resolve(s,this.state,t,e)||""}indent(t){return"heading"===t.role?"":t.editable?" ":"  "}async renderChoice(t,e){return t.indent="",t.editable?r.renderChoice.call(this,t,e):super.renderChoice(t,e)}error(){return""}footer(){return this.state.error}async validate(){let t=!0;for(let e of this.choices){if("function"!=typeof e.validate)continue;if("heading"===e.role)continue;let i=e.parent?this.value[e.parent.name]:this.value;if(e.editable?i=e.value===e.name?e.initial||"":e.value:this.isDisabled(e)||(i=!0===e.enabled),t=await e.validate(i,this.state),!0!==t)break}return!0!==t&&(this.state.error="string"==typeof t?t:"Invalid Input"),t}submit(){if(!0===this.focused.newChoice)return super.submit();if(this.choices.some((t=>t.newChoice)))return this.alert();this.value={};for(let t of this.choices){let e=t.parent?this.value[t.parent.name]:this.value;"heading"!==t.role?t.editable?e[t.name]=t.value===t.name?t.initial||"":t.value:this.isDisabled(t)||(e[t.name]=!0===t.enabled):this.value[t.name]={}}return this.base.submit.call(this)}}},1826:(t,e,i)=>{"use strict";const s=i(730),r=i(3466),n=i(2786);t.exports=class extends r{constructor(t){super({...t,multiple:!0}),this.type="form",this.initial=this.options.initial,this.align=[this.options.align,"right"].find((t=>null!=t)),this.emptyError="",this.values={}}async reset(t){return await super.reset(),!0===t&&(this._index=this.index),this.index=this._index,this.values={},this.choices.forEach((t=>t.reset&&t.reset())),this.render()}dispatch(t){return!!t&&this.append(t)}append(t){let e=this.focused;if(!e)return this.alert();let{cursor:i,input:s}=e;return e.value=e.input=s.slice(0,i)+t+s.slice(i),e.cursor++,this.render()}delete(){let t=this.focused;if(!t||t.cursor<=0)return this.alert();let{cursor:e,input:i}=t;return t.value=t.input=i.slice(0,e-1)+i.slice(e),t.cursor--,this.render()}deleteForward(){let t=this.focused;if(!t)return this.alert();let{cursor:e,input:i}=t;if(void 0===i[e])return this.alert();let s=`${i}`.slice(0,e)+`${i}`.slice(e+1);return t.value=t.input=s,this.render()}right(){let t=this.focused;return t?t.cursor>=t.input.length?this.alert():(t.cursor++,this.render()):this.alert()}left(){let t=this.focused;return t?t.cursor<=0?this.alert():(t.cursor--,this.render()):this.alert()}space(t,e){return this.dispatch(t,e)}number(t,e){return this.dispatch(t,e)}next(){let t=this.focused;if(!t)return this.alert();let{initial:e,input:i}=t;return e&&e.startsWith(i)&&i!==e?(t.value=t.input=e,t.cursor=t.value.length,this.render()):super.next()}prev(){let t=this.focused;return t?0===t.cursor?super.prev():(t.value=t.input="",t.cursor=0,this.render()):this.alert()}separator(){return""}format(t){return this.state.submitted?"":super.format(t)}pointer(){return""}indicator(t){return t.input?"⦿":"⊙"}async choiceSeparator(t,e){let i=await this.resolve(t.separator,this.state,t,e)||":";return i?" "+this.styles.disabled(i):""}async renderChoice(t,e){await this.onChoice(t,e);let{state:i,styles:r}=this,{cursor:o,initial:u="",name:a,hint:l,input:c=""}=t,{muted:h,submitted:p,primary:d,danger:f}=r,D=l,m=this.index===e,g=t.validate||(()=>!0),b=await this.choiceSeparator(t,e),y=t.message;"right"===this.align&&(y=y.padStart(this.longest+1," ")),"left"===this.align&&(y=y.padEnd(this.longest+1," "));let v=this.values[a]=c||u,w=c?"success":"dark";!0!==await g.call(t,v,this.state)&&(w="danger");let E=(0,r[w])(await this.indicator(t,e))+(t.pad||""),C=this.indent(t),x=()=>[C,E,y+b,c,D].filter(Boolean).join(" ");if(i.submitted)return y=s.unstyle(y),c=p(c),D="",x();if(t.format)c=await t.format.call(this,c,t,e);else{let t=this.styles.muted;c=n(this,{input:c,initial:u,pos:o,showCursor:m,color:t})}return this.isValue(c)||(c=this.styles.muted(this.symbols.ellipsis)),t.result&&(this.values[a]=await t.result.call(this,v,t,e)),m&&(y=d(y)),t.error?c+=(c?" ":"")+f(t.error.trim()):t.hint&&(c+=(c?" ":"")+h(t.hint.trim())),x()}async submit(){return this.value=this.values,super.base.submit.call(this)}}},9594:(t,e,i)=>{"use strict";const s=i(3546),r=(t,i)=>{s.defineExport(e,t,i),s.defineExport(e,t.toLowerCase(),i)};r("AutoComplete",(()=>i(9317))),r("BasicAuth",(()=>i(7186))),r("Confirm",(()=>i(1291))),r("Editable",(()=>i(848))),r("Form",(()=>i(1826))),r("Input",(()=>i(6719))),r("Invisible",(()=>i(9822))),r("List",(()=>i(6795))),r("MultiSelect",(()=>i(1056))),r("Numeral",(()=>i(7403))),r("Password",(()=>i(6847))),r("Scale",(()=>i(7813))),r("Select",(()=>i(3466))),r("Snippet",(()=>i(9451))),r("Sort",(()=>i(7144))),r("Survey",(()=>i(3755))),r("Text",(()=>i(5781))),r("Toggle",(()=>i(653))),r("Quiz",(()=>i(2249)))},6719:(t,e,i)=>{"use strict";const s=i(3391),r=i(3736);t.exports=class extends s{constructor(t){super(t);let e=this.options.history;if(e&&e.store){let t=e.values||this.initial;this.autosave=!!e.autosave,this.store=e.store,this.data=this.store.get("values")||{past:[],present:t},this.initial=this.data.present||this.data.past[this.data.past.length-1]}}completion(t){return this.store?(this.data=r(t,this.data,this.input),this.data.present?(this.input=this.data.present,this.cursor=this.input.length,this.render()):this.alert()):this.alert()}altUp(){return this.completion("prev")}altDown(){return this.completion("next")}prev(){return this.save(),super.prev()}save(){this.store&&(this.data=r("save",this.data,this.input),this.store.set("values",this.data))}submit(){return this.store&&!0===this.autosave&&this.save(),super.submit()}}},9822:(t,e,i)=>{"use strict";const s=i(3391);t.exports=class extends s{format(){return""}}},6795:(t,e,i)=>{"use strict";const s=i(3391);t.exports=class extends s{constructor(t={}){super(t),this.sep=this.options.separator||/, */,this.initial=t.initial||""}split(t=this.value){return t?String(t).split(this.sep):[]}format(){let t=this.state.submitted?this.styles.primary:t=>t;return this.list.map(t).join(", ")}async submit(t){let e=this.state.error||await this.validate(this.list,this.state);return!0!==e?(this.state.error=e,super.submit()):(this.value=this.list,super.submit())}get list(){return this.split()}}},1056:(t,e,i)=>{"use strict";const s=i(3466);t.exports=class extends s{constructor(t){super({...t,multiple:!0})}}},7403:(t,e,i)=>{t.exports=i(5376)},6847:(t,e,i)=>{"use strict";const s=i(3391);t.exports=class extends s{constructor(t){super(t),this.cursorShow()}format(t=this.input){return this.keypressed?(this.state.submitted?this.styles.primary:this.styles.muted)(this.symbols.asterisk.repeat(t.length)):""}}},2249:(t,e,i)=>{"use strict";const s=i(3466);t.exports=class extends s{constructor(t){if(super(t),"number"!=typeof this.options.correctChoice||this.options.correctChoice<0)throw new Error("Please specify the index of the correct answer from the list of choices")}async toChoices(t,e){let i=await super.toChoices(t,e);if(i.length<2)throw new Error("Please give at least two choices to the user");if(this.options.correctChoice>i.length)throw new Error("Please specify the index of the correct answer from the list of choices");return i}check(t){return t.index===this.options.correctChoice}async result(t){return{selectedAnswer:t,correctAnswer:this.options.choices[this.options.correctChoice].value,correct:await this.check(this.state)}}}},7813:(t,e,i)=>{"use strict";const s=i(730),r=i(8575),n=i(3546);t.exports=class extends r{constructor(t={}){super(t),this.widths=[].concat(t.messageWidth||50),this.align=[].concat(t.align||"left"),this.linebreak=t.linebreak||!1,this.edgeLength=t.edgeLength||3,this.newline=t.newline||"\n   ";let e=t.startNumber||1;"number"==typeof this.scale&&(this.scaleKey=!1,this.scale=Array(this.scale).fill(0).map(((t,i)=>({name:i+e}))))}async reset(){return this.tableized=!1,await super.reset(),this.render()}tableize(){if(!0===this.tableized)return;this.tableized=!0;let t=0;for(let e of this.choices){t=Math.max(t,e.message.length),e.scaleIndex=e.initial||2,e.scale=[];for(let t=0;t<this.scale.length;t++)e.scale.push({index:t})}this.widths[0]=Math.min(this.widths[0],t+3)}async dispatch(t,e){if(this.multiple)return this[e.name]?await this[e.name](t,e):await super.dispatch(t,e);this.alert()}heading(t,e,i){return this.styles.strong(t)}separator(){return this.styles.muted(this.symbols.ellipsis)}right(){let t=this.focused;return t.scaleIndex>=this.scale.length-1?this.alert():(t.scaleIndex++,this.render())}left(){let t=this.focused;return t.scaleIndex<=0?this.alert():(t.scaleIndex--,this.render())}indent(){return""}format(){return this.state.submitted?this.choices.map((t=>this.styles.info(t.index))).join(", "):""}pointer(){return""}renderScaleKey(){return!1===this.scaleKey||this.state.submitted?"":["",...this.scale.map((t=>`   ${t.name} - ${t.message}`))].map((t=>this.styles.muted(t))).join("\n")}renderScaleHeading(t){let e=this.scale.map((t=>t.name));"function"==typeof this.options.renderScaleHeading&&(e=this.options.renderScaleHeading.call(this,t));let i=this.scaleLength-e.join("").length,s=Math.round(i/(e.length-1)),r=e.map((t=>this.styles.strong(t))).join(" ".repeat(s)),n=" ".repeat(this.widths[0]);return this.margin[3]+n+this.margin[1]+r}scaleIndicator(t,e,i){if("function"==typeof this.options.scaleIndicator)return this.options.scaleIndicator.call(this,t,e,i);let s=t.scaleIndex===e.index;return e.disabled?this.styles.hint(this.symbols.radio.disabled):s?this.styles.success(this.symbols.radio.on):this.symbols.radio.off}renderScale(t,e){let i=t.scale.map((i=>this.scaleIndicator(t,i,e))),s="Hyper"===this.term?"":" ";return i.join(s+this.symbols.line.repeat(this.edgeLength))}async renderChoice(t,e){await this.onChoice(t,e);let i=this.index===e,r=await this.pointer(t,e),o=await t.hint;o&&!n.hasColor(o)&&(o=this.styles.muted(o));let u=t=>this.margin[3]+t.replace(/\s+$/,"").padEnd(this.widths[0]," "),a=this.newline,l=this.indent(t),c=await this.resolve(t.message,this.state,t,e),h=await this.renderScale(t,e),p=this.margin[1]+this.margin[3];this.scaleLength=s.unstyle(h).length,this.widths[0]=Math.min(this.widths[0],this.width-this.scaleLength-p.length);let d=n.wordWrap(c,{width:this.widths[0],newline:a}).split("\n").map((t=>u(t)+this.margin[1]));return i&&(h=this.styles.info(h),d=d.map((t=>this.styles.info(t)))),d[0]+=h,this.linebreak&&d.push(""),[l+r,d.join("\n")].filter(Boolean)}async renderChoices(){if(this.state.submitted)return"";this.tableize();let t=this.visible.map((async(t,e)=>await this.renderChoice(t,e))),e=await Promise.all(t),i=await this.renderScaleHeading();return this.margin[0]+[i,...e.map((t=>t.join(" ")))].join("\n")}async render(){let{submitted:t,size:e}=this.state,i=await this.prefix(),s=await this.separator(),r=await this.message(),n="";!1!==this.options.promptLine&&(n=[i,r,s,""].join(" "),this.state.prompt=n);let o=await this.header(),u=await this.format(),a=await this.renderScaleKey(),l=await this.error()||await this.hint(),c=await this.renderChoices(),h=await this.footer(),p=this.emptyError;u&&(n+=u),l&&!n.includes(l)&&(n+=" "+l),t&&!u&&!c.trim()&&this.multiple&&null!=p&&(n+=this.styles.danger(p)),this.clear(e),this.write([o,n,a,c,h].filter(Boolean).join("\n")),this.state.submitted||this.write(this.margin[2]),this.restore()}submit(){this.value={};for(let t of this.choices)this.value[t.name]=t.scaleIndex;return this.base.submit.call(this)}}},3466:(t,e,i)=>{"use strict";const s=i(8575),r=i(3546);t.exports=class extends s{constructor(t){super(t),this.emptyError=this.options.emptyError||"No items were selected"}async dispatch(t,e){if(this.multiple)return this[e.name]?await this[e.name](t,e):await super.dispatch(t,e);this.alert()}separator(){if(this.options.separator)return super.separator();let t=this.styles.muted(this.symbols.ellipsis);return this.state.submitted?super.separator():t}pointer(t,e){return!this.multiple||this.options.pointer?super.pointer(t,e):""}indicator(t,e){return this.multiple?super.indicator(t,e):""}choiceMessage(t,e){let i=this.resolve(t.message,this.state,t,e);return"heading"!==t.role||r.hasColor(i)||(i=this.styles.strong(i)),this.resolve(i,this.state,t,e)}choiceSeparator(){return":"}async renderChoice(t,e){await this.onChoice(t,e);let i=this.index===e,s=await this.pointer(t,e),n=await this.indicator(t,e)+(t.pad||""),o=await this.resolve(t.hint,this.state,t,e);o&&!r.hasColor(o)&&(o=this.styles.muted(o));let u=this.indent(t),a=await this.choiceMessage(t,e),l=()=>[this.margin[3],u+s+n,a,this.margin[1],o].filter(Boolean).join(" ");return"heading"===t.role?l():t.disabled?(r.hasColor(a)||(a=this.styles.disabled(a)),l()):(i&&(a=this.styles.em(a)),l())}async renderChoices(){if("choices"===this.state.loading)return this.styles.warning("Loading choices");if(this.state.submitted)return"";let t=this.visible.map((async(t,e)=>await this.renderChoice(t,e))),e=await Promise.all(t);e.length||e.push(this.styles.danger("No matching choices"));let i,s=this.margin[0]+e.join("\n");return this.options.choicesHeader&&(i=await this.resolve(this.options.choicesHeader,this.state)),[i,s].filter(Boolean).join("\n")}format(){return!this.state.submitted||this.state.cancelled?"":Array.isArray(this.selected)?this.selected.map((t=>this.styles.primary(t.name))).join(", "):this.styles.primary(this.selected.name)}async render(){let{submitted:t,size:e}=this.state,i="",s=await this.header(),r=await this.prefix(),n=await this.separator(),o=await this.message();!1!==this.options.promptLine&&(i=[r,o,n,""].join(" "),this.state.prompt=i);let u=await this.format(),a=await this.error()||await this.hint(),l=await this.renderChoices(),c=await this.footer();u&&(i+=u),a&&!i.includes(a)&&(i+=" "+a),t&&!u&&!l.trim()&&this.multiple&&null!=this.emptyError&&(i+=this.styles.danger(this.emptyError)),this.clear(e),this.write([s,i,l,c].filter(Boolean).join("\n")),this.write(this.margin[2]),this.restore()}}},9451:(t,e,i)=>{"use strict";const s=i(730),r=i(7189),n=i(232);t.exports=class extends n{constructor(t){super(t),this.cursorHide(),this.reset(!0)}async initialize(){this.interpolate=await r(this),await super.initialize()}async reset(t){this.state.keys=[],this.state.invalid=new Map,this.state.missing=new Set,this.state.completed=0,this.state.values={},!0!==t&&(await this.initialize(),await this.render())}moveCursor(t){let e=this.getItem();this.cursor+=t,e.cursor+=t}dispatch(t,e){e.code||e.ctrl||null==t||!this.getItem()?this.alert():this.append(t,e)}append(t,e){let i=this.getItem(),s=i.input.slice(0,this.cursor),r=i.input.slice(this.cursor);this.input=i.input=`${s}${t}${r}`,this.moveCursor(1),this.render()}delete(){let t=this.getItem();if(this.cursor<=0||!t.input)return this.alert();let e=t.input.slice(this.cursor),i=t.input.slice(0,this.cursor-1);this.input=t.input=`${i}${e}`,this.moveCursor(-1),this.render()}increment(t){return t>=this.state.keys.length-1?0:t+1}decrement(t){return t<=0?this.state.keys.length-1:t-1}first(){this.state.index=0,this.render()}last(){this.state.index=this.state.keys.length-1,this.render()}right(){if(this.cursor>=this.input.length)return this.alert();this.moveCursor(1),this.render()}left(){if(this.cursor<=0)return this.alert();this.moveCursor(-1),this.render()}prev(){this.state.index=this.decrement(this.state.index),this.getItem(),this.render()}next(){this.state.index=this.increment(this.state.index),this.getItem(),this.render()}up(){this.prev()}down(){this.next()}format(t){let e=this.state.completed<100?this.styles.warning:this.styles.success;return!0===this.state.submitted&&100!==this.state.completed&&(e=this.styles.danger),e(`${this.state.completed}% completed`)}async render(){let{index:t,keys:e=[],submitted:i,size:s}=this.state,r=[this.options.newline,"\n"].find((t=>null!=t)),n=await this.prefix(),o=await this.separator(),u=[n,await this.message(),o].filter(Boolean).join(" ");this.state.prompt=u;let a=await this.header(),l=await this.error()||"",c=await this.hint()||"",h=i?"":await this.interpolate(this.state),p=this.state.key=e[t]||"",d=await this.format(p),f=await this.footer();d&&(u+=" "+d),c&&!d&&0===this.state.completed&&(u+=" "+c),this.clear(s);let D=[a,u,h,f,l.trim()];this.write(D.filter(Boolean).join(r)),this.restore()}getItem(t){let{items:e,keys:i,index:s}=this.state,r=e.find((t=>t.name===i[s]));return r&&null!=r.input&&(this.input=r.input,this.cursor=r.cursor),r}async submit(){"function"!=typeof this.interpolate&&await this.initialize(),await this.interpolate(this.state,!0);let{invalid:t,missing:e,output:i,values:r}=this.state;if(t.size){let e="";for(let[i,s]of t)e+=`Invalid ${i}: ${s}\n`;return this.state.error=e,super.submit()}if(e.size)return this.state.error="Required: "+[...e.keys()].join(", "),super.submit();let n=s.unstyle(i).split("\n").map((t=>t.slice(1))).join("\n");return this.value={values:r,result:n},super.submit()}}},7144:(t,e,i)=>{"use strict";const s="(Use <shift>+<up/down> to sort)",r=i(3466);t.exports=class extends r{constructor(t){super({...t,reorder:!1,sort:!0,multiple:!0}),this.state.hint=[this.options.hint,s].find(this.isValue.bind(this))}indicator(){return""}async renderChoice(t,e){let i=await super.renderChoice(t,e),s=this.symbols.identicalTo+" ",r=this.index===e&&this.sorting?this.styles.muted(s):"  ";return!1===this.options.drag&&(r=""),!0===this.options.numbered?r+`${e+1} - `+i:r+i}get selected(){return this.choices}submit(){return this.value=this.choices.map((t=>t.value)),super.submit()}}},3755:(t,e,i)=>{"use strict";const s=i(8575);function r(t,e={}){if(Array.isArray(e.scale))return e.scale.map((t=>({...t})));let i=[];for(let e=1;e<t+1;e++)i.push({i:e,selected:!1});return i}t.exports=class extends s{constructor(t={}){if(super(t),this.emptyError=t.emptyError||"No items were selected",this.term=process.env.TERM_PROGRAM,!this.options.header){let t=["","4 - Strongly Agree","3 - Agree","2 - Neutral","1 - Disagree","0 - Strongly Disagree",""];t=t.map((t=>this.styles.muted(t))),this.state.header=t.join("\n   ")}}async toChoices(...t){if(this.createdScales)return!1;this.createdScales=!0;let e=await super.toChoices(...t);for(let t of e)t.scale=r(5,this.options),t.scaleIdx=2;return e}dispatch(){this.alert()}space(){let t=this.focused,e=t.scale[t.scaleIdx],i=e.selected;return t.scale.forEach((t=>t.selected=!1)),e.selected=!i,this.render()}indicator(){return""}pointer(){return""}separator(){return this.styles.muted(this.symbols.ellipsis)}right(){let t=this.focused;return t.scaleIdx>=t.scale.length-1?this.alert():(t.scaleIdx++,this.render())}left(){let t=this.focused;return t.scaleIdx<=0?this.alert():(t.scaleIdx--,this.render())}indent(){return"   "}async renderChoice(t,e){await this.onChoice(t,e);let i=this.index===e,s="Hyper"===this.term,r=s?9:8,n=s?"":" ",o=this.symbols.line.repeat(r),u=" ".repeat(r+(s?0:1)),a=t=>(t?this.styles.success("◉"):"◯")+n,l=e+1+".",c=i?this.styles.heading:this.styles.noop,h=await this.resolve(t.message,this.state,t,e),p=this.indent(t),d=p+t.scale.map(((e,i)=>a(i===t.scaleIdx))).join(o),f=p+t.scale.map(((e,i)=>(e=>e===t.scaleIdx?c(e):e)(i))).join(u);return i&&(d=this.styles.cyan(d),f=this.styles.cyan(f)),[[l,h].filter(Boolean).join(" "),d,f," "].filter(Boolean).join("\n")}async renderChoices(){if(this.state.submitted)return"";let t=this.visible.map((async(t,e)=>await this.renderChoice(t,e))),e=await Promise.all(t);return e.length||e.push(this.styles.danger("No matching choices")),e.join("\n")}format(){return this.state.submitted?this.choices.map((t=>this.styles.info(t.scaleIdx))).join(", "):""}async render(){let{submitted:t,size:e}=this.state,i=await this.prefix(),s=await this.separator(),r=[i,await this.message(),s].filter(Boolean).join(" ");this.state.prompt=r;let n=await this.header(),o=await this.format(),u=await this.error()||await this.hint(),a=await this.renderChoices(),l=await this.footer();!o&&u||(r+=" "+o),u&&!r.includes(u)&&(r+=" "+u),t&&!o&&!a&&this.multiple&&"form"!==this.type&&(r+=this.styles.danger(this.emptyError)),this.clear(e),this.write([r,n,a,l].filter(Boolean).join("\n")),this.restore()}submit(){this.value={};for(let t of this.choices)this.value[t.name]=t.scaleIdx;return this.base.submit.call(this)}}},5781:(t,e,i)=>{t.exports=i(6719)},653:(t,e,i)=>{"use strict";const s=i(3838);t.exports=class extends s{async initialize(){await super.initialize(),this.value=this.initial=!!this.options.initial,this.disabled=this.options.disabled||"no",this.enabled=this.options.enabled||"yes",await this.render()}reset(){this.value=this.initial,this.render()}delete(){this.alert()}toggle(){this.value=!this.value,this.render()}enable(){if(!0===this.value)return this.alert();this.value=!0,this.render()}disable(){if(!1===this.value)return this.alert();this.value=!1,this.render()}up(){this.toggle()}down(){this.toggle()}right(){this.toggle()}left(){this.toggle()}next(){this.toggle()}prev(){this.toggle()}dispatch(t="",e){switch(t.toLowerCase()){case" ":return this.toggle();case"1":case"y":case"t":return this.enable();case"0":case"n":case"f":return this.disable();default:return this.alert()}}format(){let t=t=>this.styles.primary.underline(t);return[this.value?this.disabled:t(this.disabled),this.value?t(this.enabled):this.enabled].join(this.styles.muted(" / "))}async render(){let{size:t}=this.state,e=await this.header(),i=await this.prefix(),s=await this.separator(),r=await this.message(),n=await this.format(),o=await this.error()||await this.hint(),u=await this.footer(),a=[i,r,s,n].join(" ");this.state.prompt=a,o&&!a.includes(o)&&(a+=" "+o),this.clear(t),this.write([e,a,u].filter(Boolean).join("\n")),this.write(this.margin[2]),this.restore()}}},1502:(t,e,i)=>{"use strict";const s=i(3546),r={default:(t,e)=>e,checkbox(t,e){throw new Error("checkbox role is not implemented yet")},editable(t,e){throw new Error("editable role is not implemented yet")},expandable(t,e){throw new Error("expandable role is not implemented yet")},heading:(t,e)=>(e.disabled="",e.indicator=[e.indicator," "].find((t=>null!=t)),e.message=e.message||"",e),input(t,e){throw new Error("input role is not implemented yet")},option:(t,e)=>r.default(t,e),radio(t,e){throw new Error("radio role is not implemented yet")},separator:(t,e)=>(e.disabled="",e.indicator=[e.indicator," "].find((t=>null!=t)),e.message=e.message||t.symbols.line.repeat(5),e),spacer:(t,e)=>e};t.exports=(t,e={})=>{let i=s.merge({},r,e.roles);return i[t]||i.default}},6873:(t,e,i)=>{"use strict";const{define:s,width:r}=i(3546);t.exports=class{constructor(t){let e=t.options;s(this,"_prompt",t),this.type=t.type,this.name=t.name,this.message="",this.header="",this.footer="",this.error="",this.hint="",this.input="",this.cursor=0,this.index=0,this.lines=0,this.tick=0,this.prompt="",this.buffer="",this.width=r(e.stdout||process.stdout),Object.assign(this,e),this.name=this.name||this.message,this.message=this.message||this.name,this.symbols=t.symbols,this.styles=t.styles,this.required=new Set,this.cancelled=!1,this.submitted=!1}clone(){let t={...this};return t.status=this.status,t.buffer=Buffer.from(t.buffer),delete t.clone,t}set color(t){this._color=t}get color(){let t=this.prompt.styles;if(this.cancelled)return t.cancelled;if(this.submitted)return t.submitted;let e=this._color||t[this.status];return"function"==typeof e?e:t.pending}set loading(t){this._loading=t}get loading(){return"boolean"==typeof this._loading?this._loading:!!this.loadingChoices&&"choices"}get status(){return this.cancelled?"cancelled":this.submitted?"submitted":"pending"}}},9217:(t,e,i)=>{"use strict";const s=i(3546),r=i(730),n={default:r.noop,noop:r.noop,set inverse(t){this._inverse=t},get inverse(){return this._inverse||s.inverse(this.primary)},set complement(t){this._complement=t},get complement(){return this._complement||s.complement(this.primary)},primary:r.cyan,success:r.green,danger:r.magenta,strong:r.bold,warning:r.yellow,muted:r.dim,disabled:r.gray,dark:r.dim.gray,underline:r.underline,set info(t){this._info=t},get info(){return this._info||this.primary},set em(t){this._em=t},get em(){return this._em||this.primary.underline},set heading(t){this._heading=t},get heading(){return this._heading||this.muted.underline},set pending(t){this._pending=t},get pending(){return this._pending||this.primary},set submitted(t){this._submitted=t},get submitted(){return this._submitted||this.success},set cancelled(t){this._cancelled=t},get cancelled(){return this._cancelled||this.danger},set typing(t){this._typing=t},get typing(){return this._typing||this.dim},set placeholder(t){this._placeholder=t},get placeholder(){return this._placeholder||this.primary.dim},set highlight(t){this._highlight=t},get highlight(){return this._highlight||this.inverse},merge:(t={})=>{t.styles&&"boolean"==typeof t.styles.enabled&&(r.enabled=t.styles.enabled),t.styles&&"boolean"==typeof t.styles.visible&&(r.visible=t.styles.visible);let e=s.merge({},n,t.styles);delete e.merge;for(let t of Object.keys(r))e.hasOwnProperty(t)||Reflect.defineProperty(e,t,{get:()=>r[t]});for(let t of Object.keys(r.styles))e.hasOwnProperty(t)||Reflect.defineProperty(e,t,{get:()=>r[t]});return e}};t.exports=n},4739:(t,e,i)=>{"use strict";const s="win32"===process.platform,r=i(730),n=i(3546),o={...r.symbols,upDownDoubleArrow:"⇕",upDownDoubleArrow2:"⬍",upDownArrow:"↕",asterisk:"*",asterism:"⁂",bulletWhite:"◦",electricArrow:"⌁",ellipsisLarge:"⋯",ellipsisSmall:"…",fullBlock:"█",identicalTo:"≡",indicator:r.symbols.check,leftAngle:"‹",mark:"※",minus:"−",multiplication:"×",obelus:"÷",percent:"%",pilcrow:"¶",pilcrow2:"❡",pencilUpRight:"✐",pencilDownRight:"✎",pencilRight:"✏",plus:"+",plusMinus:"±",pointRight:"☞",rightAngle:"›",section:"§",hexagon:{off:"⬡",on:"⬢",disabled:"⬢"},ballot:{on:"☑",off:"☐",disabled:"☒"},stars:{on:"★",off:"☆",disabled:"☆"},folder:{on:"▼",off:"▶",disabled:"▶"},prefix:{pending:r.symbols.question,submitted:r.symbols.check,cancelled:r.symbols.cross},separator:{pending:r.symbols.pointerSmall,submitted:r.symbols.middot,cancelled:r.symbols.middot},radio:{off:s?"( )":"◯",on:s?"(*)":"◉",disabled:s?"(|)":"Ⓘ"},numbers:["⓪","①","②","③","④","⑤","⑥","⑦","⑧","⑨","⑩","⑪","⑫","⑬","⑭","⑮","⑯","⑰","⑱","⑲","⑳","㉑","㉒","㉓","㉔","㉕","㉖","㉗","㉘","㉙","㉚","㉛","㉜","㉝","㉞","㉟","㊱","㊲","㊳","㊴","㊵","㊶","㊷","㊸","㊹","㊺","㊻","㊼","㊽","㊾","㊿"]};o.merge=t=>{let e=n.merge({},r.symbols,o,t.symbols);return delete e.merge,e},t.exports=o},9227:(t,e,i)=>{"use strict";const s=i(9217),r=i(4739),n=i(3546);t.exports=t=>{t.options=n.merge({},t.options.theme,t.options),t.symbols=r.merge(t.options),t.styles=s.merge(t.options)}},3940:t=>{"use strict";function e(t,e,i={}){let s=t.timers[e]={name:e,start:Date.now(),ms:0,tick:0},r=i.interval||120;s.frames=i.frames||[],s.loading=!0;let n=setInterval((()=>{s.ms=Date.now()-s.start,s.tick++,t.render()}),r);return s.stop=()=>{s.loading=!1,clearInterval(n)},Reflect.defineProperty(s,"interval",{value:n}),t.once("close",(()=>s.stop())),s.stop}t.exports=t=>{t.timers=t.timers||{};let i=t.options.timers;if(i)for(let s of Object.keys(i)){let r=i[s];"number"==typeof r&&(r={interval:r}),e(t,s,r)}}},8575:(t,e,i)=>{"use strict";const s=i(730),r=i(232),n=i(1502),o=i(3546),{reorder:u,scrollUp:a,scrollDown:l,isObject:c,swap:h}=o;function p(t,e){if(e instanceof Promise)return e;if("function"==typeof e){if(o.isAsyncFn(e))return e;e=e.call(t,t)}for(let i of e){if(Array.isArray(i.choices)){let e=i.choices.filter((e=>!t.isDisabled(e)));i.enabled=e.every((t=>!0===t.enabled))}!0===t.isDisabled(i)&&delete i.enabled}return e}t.exports=class extends r{constructor(t){super(t),this.cursorHide(),this.maxSelected=t.maxSelected||1/0,this.multiple=t.multiple||!1,this.initial=t.initial||0,this.delay=t.delay||0,this.longest=0,this.num=""}async initialize(){"function"==typeof this.options.initial&&(this.initial=await this.options.initial.call(this)),await this.reset(!0),await super.initialize()}async reset(){let{choices:t,initial:e,autofocus:i,suggest:s}=this.options;if(this.state._choices=[],this.state.choices=[],this.choices=await Promise.all(await this.toChoices(t)),this.choices.forEach((t=>t.enabled=!1)),"function"!=typeof s&&0===this.selectable.length)throw new Error("At least one choice must be selectable");c(e)&&(e=Object.keys(e)),Array.isArray(e)?(null!=i&&(this.index=this.findIndex(i)),e.forEach((t=>this.enable(this.find(t)))),await this.render()):(null!=i&&(e=i),"string"==typeof e&&(e=this.findIndex(e)),"number"==typeof e&&e>-1&&(this.index=Math.max(0,Math.min(e,this.choices.length)),this.enable(this.find(this.index)))),this.isDisabled(this.focused)&&await this.down()}async toChoices(t,e){this.state.loadingChoices=!0;let i=[],s=0,r=async(t,e)=>{"function"==typeof t&&(t=await t.call(this)),t instanceof Promise&&(t=await t);for(let n=0;n<t.length;n++){let o=t[n]=await this.toChoice(t[n],s++,e);i.push(o),o.choices&&await r(o.choices,o)}return i};return r(t,e).then((t=>(this.state.loadingChoices=!1,t)))}async toChoice(t,e,i){if("function"==typeof t&&(t=await t.call(this,this)),t instanceof Promise&&(t=await t),"string"==typeof t&&(t={name:t}),t.normalized)return t;t.normalized=!0;let r=t.value,u=n(t.role,this.options);if("string"!=typeof(t=u(this,t)).disabled||t.hint||(t.hint=t.disabled,t.disabled=!0),!0===t.disabled&&null==t.hint&&(t.hint="(disabled)"),null!=t.index)return t;t.name=t.name||t.key||t.title||t.value||t.message,t.message=t.message||t.name||"",t.value=[t.value,t.name].find(this.isValue.bind(this)),t.input="",t.index=e,t.cursor=0,o.define(t,"parent",i),t.level=i?i.level+1:1,null==t.indent&&(t.indent=i?i.indent+"  ":t.indent||""),t.path=i?i.path+"."+t.name:t.name,t.enabled=!(!this.multiple||this.isDisabled(t)||!t.enabled&&!this.isSelected(t)),this.isDisabled(t)||(this.longest=Math.max(this.longest,s.unstyle(t.message).length));let a={...t};return t.reset=(e=a.input,i=a.value)=>{for(let e of Object.keys(a))t[e]=a[e];t.input=e,t.value=i},null==r&&"function"==typeof t.initial&&(t.input=await t.initial.call(this,this.state,t,e)),t}async onChoice(t,e){this.emit("choice",t,e,this),"function"==typeof t.onChoice&&await t.onChoice.call(this,this.state,t,e)}async addChoice(t,e,i){let s=await this.toChoice(t,e,i);return this.choices.push(s),this.index=this.choices.length-1,this.limit=this.choices.length,s}async newItem(t,e,i){let s={name:"New choice name?",editable:!0,newChoice:!0,...t},r=await this.addChoice(s,e,i);return r.updateChoice=()=>{delete r.newChoice,r.name=r.message=r.input,r.input="",r.cursor=0},this.render()}indent(t){return null==t.indent?t.level>1?"  ".repeat(t.level-1):"":t.indent}dispatch(t,e){if(this.multiple&&this[e.name])return this[e.name]();this.alert()}focus(t,e){return"boolean"!=typeof e&&(e=t.enabled),e&&!t.enabled&&this.selected.length>=this.maxSelected?this.alert():(this.index=t.index,t.enabled=e&&!this.isDisabled(t),t)}space(){return this.multiple?(this.toggle(this.focused),this.render()):this.alert()}a(){if(this.maxSelected<this.choices.length)return this.alert();let t=this.selectable.every((t=>t.enabled));return this.choices.forEach((e=>e.enabled=!t)),this.render()}i(){return this.choices.length-this.selected.length>this.maxSelected?this.alert():(this.choices.forEach((t=>t.enabled=!t.enabled)),this.render())}g(t=this.focused){return this.choices.some((t=>!!t.parent))?(this.toggle(t.parent&&!t.choices?t.parent:t),this.render()):this.a()}toggle(t,e){if(!t.enabled&&this.selected.length>=this.maxSelected)return this.alert();"boolean"!=typeof e&&(e=!t.enabled),t.enabled=e,t.choices&&t.choices.forEach((t=>this.toggle(t,e)));let i=t.parent;for(;i;){let t=i.choices.filter((t=>this.isDisabled(t)));i.enabled=t.every((t=>!0===t.enabled)),i=i.parent}return p(this,this.choices),this.emit("toggle",t,this),t}enable(t){return this.selected.length>=this.maxSelected?this.alert():(t.enabled=!this.isDisabled(t),t.choices&&t.choices.forEach(this.enable.bind(this)),t)}disable(t){return t.enabled=!1,t.choices&&t.choices.forEach(this.disable.bind(this)),t}number(t){this.num+=t;let e=t=>{let e=Number(t);if(e>this.choices.length-1)return this.alert();let i=this.focused,s=this.choices.find((t=>e===t.index));if(!s.enabled&&this.selected.length>=this.maxSelected)return this.alert();if(-1===this.visible.indexOf(s)){let t=u(this.choices),e=t.indexOf(s);if(i.index>e){let i=t.slice(e,e+this.limit),s=t.filter((t=>!i.includes(t)));this.choices=i.concat(s)}else{let i=e-this.limit+1;this.choices=t.slice(i).concat(t.slice(0,i))}}return this.index=this.choices.indexOf(s),this.toggle(this.focused),this.render()};return clearTimeout(this.numberTimeout),new Promise((t=>{let i=this.choices.length,s=this.num,r=(i=!1,r)=>{clearTimeout(this.numberTimeout),i&&(r=e(s)),this.num="",t(r)};return"0"===s||1===s.length&&Number(s+"0")>i?r(!0):Number(s)>i?r(!1,this.alert()):void(this.numberTimeout=setTimeout((()=>r(!0)),this.delay))}))}home(){return this.choices=u(this.choices),this.index=0,this.render()}end(){let t=this.choices.length-this.limit,e=u(this.choices);return this.choices=e.slice(t).concat(e.slice(0,t)),this.index=this.limit-1,this.render()}first(){return this.index=0,this.render()}last(){return this.index=this.visible.length-1,this.render()}prev(){return this.visible.length<=1?this.alert():this.up()}next(){return this.visible.length<=1?this.alert():this.down()}right(){return this.cursor>=this.input.length?this.alert():(this.cursor++,this.render())}left(){return this.cursor<=0?this.alert():(this.cursor--,this.render())}up(){let t=this.choices.length,e=this.visible.length,i=this.index;return!1===this.options.scroll&&0===i?this.alert():t>e&&0===i?this.scrollUp():(this.index=(i-1%t+t)%t,this.isDisabled()?this.up():this.render())}down(){let t=this.choices.length,e=this.visible.length,i=this.index;return!1===this.options.scroll&&i===e-1?this.alert():t>e&&i===e-1?this.scrollDown():(this.index=(i+1)%t,this.isDisabled()?this.down():this.render())}scrollUp(t=0){return this.choices=a(this.choices),this.index=t,this.isDisabled()?this.up():this.render()}scrollDown(t=this.visible.length-1){return this.choices=l(this.choices),this.index=t,this.isDisabled()?this.down():this.render()}async shiftUp(){return!0===this.options.sort?(this.sorting=!0,this.swap(this.index-1),await this.up(),void(this.sorting=!1)):this.scrollUp(this.index)}async shiftDown(){return!0===this.options.sort?(this.sorting=!0,this.swap(this.index+1),await this.down(),void(this.sorting=!1)):this.scrollDown(this.index)}pageUp(){return this.visible.length<=1?this.alert():(this.limit=Math.max(this.limit-1,0),this.index=Math.min(this.limit-1,this.index),this._limit=this.limit,this.isDisabled()?this.up():this.render())}pageDown(){return this.visible.length>=this.choices.length?this.alert():(this.index=Math.max(0,this.index),this.limit=Math.min(this.limit+1,this.choices.length),this._limit=this.limit,this.isDisabled()?this.down():this.render())}swap(t){h(this.choices,this.index,t)}isDisabled(t=this.focused){return!(!t||!["disabled","collapsed","hidden","completing","readonly"].some((e=>!0===t[e])))||t&&"heading"===t.role}isEnabled(t=this.focused){if(Array.isArray(t))return t.every((t=>this.isEnabled(t)));if(t.choices){let e=t.choices.filter((t=>!this.isDisabled(t)));return t.enabled&&e.every((t=>this.isEnabled(t)))}return t.enabled&&!this.isDisabled(t)}isChoice(t,e){return t.name===e||t.index===Number(e)}isSelected(t){return Array.isArray(this.initial)?this.initial.some((e=>this.isChoice(t,e))):this.isChoice(t,this.initial)}map(t=[],e="value"){return[].concat(t||[]).reduce(((t,i)=>(t[i]=this.find(i,e),t)),{})}filter(t,e){let i="function"==typeof t?t:(e,i)=>[e.name,i].includes(t),s=(this.options.multiple?this.state._choices:this.choices).filter(i);return e?s.map((t=>t[e])):s}find(t,e){if(c(t))return e?t[e]:t;let i="function"==typeof t?t:(e,i)=>[e.name,i].includes(t),s=this.choices.find(i);return s?e?s[e]:s:void 0}findIndex(t){return this.choices.indexOf(this.find(t))}async submit(){let t=this.focused;if(!t)return this.alert();if(t.newChoice)return t.input?(t.updateChoice(),this.render()):this.alert();if(this.choices.some((t=>t.newChoice)))return this.alert();let{reorder:e,sort:i}=this.options,s=!0===this.multiple,r=this.selected;return void 0===r?this.alert():(Array.isArray(r)&&!1!==e&&!0!==i&&(r=o.reorder(r)),this.value=s?r.map((t=>t.name)):r.name,super.submit())}set choices(t=[]){this.state._choices=this.state._choices||[],this.state.choices=t;for(let e of t)this.state._choices.some((t=>t.name===e.name))||this.state._choices.push(e);if(!this._initial&&this.options.initial){this._initial=!0;let t=this.initial;if("string"==typeof t||"number"==typeof t){let e=this.find(t);e&&(this.initial=e.index,this.focus(e,!0))}}}get choices(){return p(this,this.state.choices||[])}set visible(t){this.state.visible=t}get visible(){return(this.state.visible||this.choices).slice(0,this.limit)}set limit(t){this.state.limit=t}get limit(){let{state:t,options:e,choices:i}=this,s=t.limit||this._limit||e.limit||i.length;return Math.min(s,this.height)}set value(t){super.value=t}get value(){return"string"!=typeof super.value&&super.value===this.initial?this.input:super.value}set index(t){this.state.index=t}get index(){return Math.max(0,this.state?this.state.index:0)}get enabled(){return this.filter(this.isEnabled.bind(this))}get focused(){let t=this.choices[this.index];return t&&this.state.submitted&&!0!==this.multiple&&(t.enabled=!0),t}get selectable(){return this.choices.filter((t=>!this.isDisabled(t)))}get selected(){return this.multiple?this.enabled:this.focused}}},6926:(t,e,i)=>{"use strict";const s=i(1826),r=()=>{throw new Error("expected prompt to have a custom authenticate method")},n=(t=r)=>class extends s{constructor(t){super(t)}async submit(){this.value=await t.call(this,this.values,this.state),super.base.submit.call(this)}static create(t){return n(t)}};t.exports=n()},3838:(t,e,i)=>{"use strict";const s=i(232),{isPrimitive:r,hasColor:n}=i(3546);t.exports=class extends s{constructor(t){super(t),this.cursorHide()}async initialize(){let t=await this.resolve(this.initial,this.state);this.input=await this.cast(t),await super.initialize()}dispatch(t){return this.isValue(t)?(this.input=t,this.submit()):this.alert()}format(t){let{styles:e,state:i}=this;return i.submitted?e.success(t):e.primary(t)}cast(t){return this.isTrue(t)}isTrue(t){return/^[ty1]/i.test(t)}isFalse(t){return/^[fn0]/i.test(t)}isValue(t){return r(t)&&(this.isTrue(t)||this.isFalse(t))}async hint(){if("pending"===this.state.status){let t=await this.element("hint");return n(t)?t:this.styles.muted(t)}}async render(){let{input:t,size:e}=this.state,i=await this.prefix(),s=await this.separator(),r=[i,await this.message(),this.styles.muted(this.default),s].filter(Boolean).join(" ");this.state.prompt=r;let n=await this.header(),o=this.value=this.cast(t),u=await this.format(o),a=await this.error()||await this.hint(),l=await this.footer();a&&!r.includes(a)&&(u+=" "+a),r+=" "+u,this.clear(e),this.write([n,r,l].filter(Boolean).join("\n")),this.restore()}set value(t){super.value=t}get value(){return this.cast(super.value)}}},9920:(t,e,i)=>{t.exports={ArrayPrompt:i(8575),AuthPrompt:i(6926),BooleanPrompt:i(3838),NumberPrompt:i(5376),StringPrompt:i(3391)}},5376:(t,e,i)=>{"use strict";const s=i(3391);t.exports=class extends s{constructor(t={}){super({style:"number",...t}),this.min=this.isValue(t.min)?this.toNumber(t.min):-1/0,this.max=this.isValue(t.max)?this.toNumber(t.max):1/0,this.delay=null!=t.delay?t.delay:1e3,this.float=!1!==t.float,this.round=!0===t.round||!1===t.float,this.major=t.major||10,this.minor=t.minor||1,this.initial=null!=t.initial?t.initial:"",this.input=String(this.initial),this.cursor=this.input.length,this.cursorShow()}append(t){return!/[-+.]/.test(t)||"."===t&&this.input.includes(".")?this.alert("invalid number"):super.append(t)}number(t){return super.append(t)}next(){return this.input&&this.input!==this.initial?this.alert():this.isValue(this.initial)?(this.input=this.initial,this.cursor=String(this.initial).length,this.render()):this.alert()}up(t){let e=t||this.minor,i=this.toNumber(this.input);return i>this.max+e?this.alert():(this.input=`${i+e}`,this.render())}down(t){let e=t||this.minor,i=this.toNumber(this.input);return i<this.min-e?this.alert():(this.input=""+(i-e),this.render())}shiftDown(){return this.down(this.major)}shiftUp(){return this.up(this.major)}format(t=this.input){return"function"==typeof this.options.format?this.options.format.call(this,t):this.styles.info(t)}toNumber(t=""){return this.float?+t:Math.round(+t)}isValue(t){return/^[-+]?[0-9]+((\.)|(\.[0-9]+))?$/.test(t)}submit(){let t=[this.input,this.initial].find((t=>this.isValue(t)));return this.value=this.toNumber(t||0),super.submit()}}},3391:(t,e,i)=>{"use strict";const s=i(232),r=i(2786),{isPrimitive:n}=i(3546);t.exports=class extends s{constructor(t){super(t),this.initial=n(this.initial)?String(this.initial):"",this.initial&&this.cursorHide(),this.state.prevCursor=0,this.state.clipboard=[]}async keypress(t,e={}){let i=this.state.prevKeypress;return this.state.prevKeypress=e,!0!==this.options.multiline||"return"!==e.name||i&&"return"===i.name?super.keypress(t,e):this.append("\n",e)}moveCursor(t){this.cursor+=t}reset(){return this.input=this.value="",this.cursor=0,this.render()}dispatch(t,e){if(!t||e.ctrl||e.code)return this.alert();this.append(t)}append(t){let{cursor:e,input:i}=this.state;this.input=`${i}`.slice(0,e)+t+`${i}`.slice(e),this.moveCursor(String(t).length),this.render()}insert(t){this.append(t)}delete(){let{cursor:t,input:e}=this.state;if(t<=0)return this.alert();this.input=`${e}`.slice(0,t-1)+`${e}`.slice(t),this.moveCursor(-1),this.render()}deleteForward(){let{cursor:t,input:e}=this.state;if(void 0===e[t])return this.alert();this.input=`${e}`.slice(0,t)+`${e}`.slice(t+1),this.render()}cutForward(){let t=this.cursor;if(this.input.length<=t)return this.alert();this.state.clipboard.push(this.input.slice(t)),this.input=this.input.slice(0,t),this.render()}cutLeft(){let t=this.cursor;if(0===t)return this.alert();let e=this.input.slice(0,t),i=this.input.slice(t),s=e.split(" ");this.state.clipboard.push(s.pop()),this.input=s.join(" "),this.cursor=this.input.length,this.input+=i,this.render()}paste(){if(!this.state.clipboard.length)return this.alert();this.insert(this.state.clipboard.pop()),this.render()}toggleCursor(){this.state.prevCursor?(this.cursor=this.state.prevCursor,this.state.prevCursor=0):(this.state.prevCursor=this.cursor,this.cursor=0),this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.input.length-1,this.render()}next(){let t=null!=this.initial?String(this.initial):"";if(!t||!t.startsWith(this.input))return this.alert();this.input=this.initial,this.cursor=this.initial.length,this.render()}prev(){if(!this.input)return this.alert();this.reset()}backward(){return this.left()}forward(){return this.right()}right(){return this.cursor>=this.input.length?this.alert():(this.moveCursor(1),this.render())}left(){return this.cursor<=0?this.alert():(this.moveCursor(-1),this.render())}isValue(t){return!!t}async format(t=this.value){let e=await this.resolve(this.initial,this.state);return this.state.submitted?this.styles.submitted(t||e):r(this,{input:t,initial:e,pos:this.cursor})}async render(){let t=this.state.size,e=await this.prefix(),i=await this.separator(),s=[e,await this.message(),i].filter(Boolean).join(" ");this.state.prompt=s;let r=await this.header(),n=await this.format(),o=await this.error()||await this.hint(),u=await this.footer();o&&!n.includes(o)&&(n+=" "+o),s+=" "+n,this.clear(t),this.write([r,s,u].filter(Boolean).join("\n")),this.restore()}}},3546:(t,e,i)=>{"use strict";const s=Object.prototype.toString,r=i(730);let n=!1,o=[];const u={yellow:"blue",cyan:"red",green:"magenta",black:"white",blue:"yellow",red:"cyan",magenta:"green",white:"black"};e.longest=(t,e)=>t.reduce(((t,i)=>Math.max(t,e?i[e].length:i.length)),0),e.hasColor=t=>!!t&&r.hasColor(t);const a=e.isObject=t=>null!==t&&"object"==typeof t&&!Array.isArray(t);e.nativeType=t=>s.call(t).slice(8,-1).toLowerCase().replace(/\s/g,""),e.isAsyncFn=t=>"asyncfunction"===e.nativeType(t),e.isPrimitive=t=>null!=t&&"object"!=typeof t&&"function"!=typeof t,e.resolve=(t,e,...i)=>"function"==typeof e?e.call(t,...i):e,e.scrollDown=(t=[])=>[...t.slice(1),t[0]],e.scrollUp=(t=[])=>[t.pop(),...t],e.reorder=(t=[])=>{let e=t.slice();return e.sort(((t,e)=>t.index>e.index?1:t.index<e.index?-1:0)),e},e.swap=(t,e,i)=>{let s=t.length,r=i===s?0:i<0?s-1:i,n=t[e];t[e]=t[r],t[r]=n},e.width=(t,e=80)=>{let i=t&&t.columns?t.columns:e;return t&&"function"==typeof t.getWindowSize&&(i=t.getWindowSize()[0]),"win32"===process.platform?i-1:i},e.height=(t,e=20)=>{let i=t&&t.rows?t.rows:e;return t&&"function"==typeof t.getWindowSize&&(i=t.getWindowSize()[1]),i},e.wordWrap=(t,e={})=>{if(!t)return t;"number"==typeof e&&(e={width:e});let{indent:i="",newline:s="\n"+i,width:r=80}=e,n=(s+i).match(/[^\S\n]/g)||[];r-=n.length;let o=`.{1,${r}}([\\s\\u200B]+|$)|[^\\s\\u200B]+?([\\s\\u200B]+|$)`,u=t.trim(),a=new RegExp(o,"g"),l=u.match(a)||[];return l=l.map((t=>t.replace(/\n$/,""))),e.padEnd&&(l=l.map((t=>t.padEnd(r," ")))),e.padStart&&(l=l.map((t=>t.padStart(r," ")))),i+l.join(s)},e.unmute=t=>{let e=t.stack.find((t=>r.keys.color.includes(t)));return e?r[e]:t.stack.find((t=>"bg"===t.slice(2)))?r[e.slice(2)]:t=>t},e.pascal=t=>t?t[0].toUpperCase()+t.slice(1):"",e.inverse=t=>{if(!t||!t.stack)return t;let i=t.stack.find((t=>r.keys.color.includes(t)));if(i){let s=r["bg"+e.pascal(i)];return s?s.black:t}let s=t.stack.find((t=>"bg"===t.slice(0,2)));return s?r[s.slice(2).toLowerCase()]||t:r.none},e.complement=t=>{if(!t||!t.stack)return t;let i=t.stack.find((t=>r.keys.color.includes(t))),s=t.stack.find((t=>"bg"===t.slice(0,2)));if(i&&!s)return r[u[i]||i];if(s){let i=s.slice(2).toLowerCase(),n=u[i];return n&&r["bg"+e.pascal(n)]||t}return r.none},e.meridiem=t=>{let e=t.getHours(),i=t.getMinutes(),s=e>=12?"pm":"am";return e%=12,(0===e?12:e)+":"+(i<10?"0"+i:i)+" "+s},e.set=(t={},i="",s)=>i.split(".").reduce(((t,i,r,n)=>{let o=n.length-1>r?t[i]||{}:s;return!e.isObject(o)&&r<n.length-1&&(o={}),t[i]=o}),t),e.get=(t={},e="",i)=>{let s=null==t[e]?e.split(".").reduce(((t,e)=>t&&t[e]),t):t[e];return null==s?i:s},e.mixin=(t,i)=>{if(!a(t))return i;if(!a(i))return t;for(let s of Object.keys(i)){let r=Object.getOwnPropertyDescriptor(i,s);if(r.hasOwnProperty("value"))if(t.hasOwnProperty(s)&&a(r.value)){let n=Object.getOwnPropertyDescriptor(t,s);a(n.value)?t[s]=e.merge({},t[s],i[s]):Reflect.defineProperty(t,s,r)}else Reflect.defineProperty(t,s,r);else Reflect.defineProperty(t,s,r)}return t},e.merge=(...t)=>{let i={};for(let s of t)e.mixin(i,s);return i},e.mixinEmitter=(t,i)=>{let s=i.constructor.prototype;for(let r of Object.keys(s)){let n=s[r];"function"==typeof n?e.define(t,r,n.bind(i)):e.define(t,r,n)}},e.onExit=t=>{const e=(t,e)=>{n||(n=!0,o.forEach((t=>t())),!0===t&&process.exit(128+e))};0===o.length&&(process.once("SIGTERM",e.bind(null,!0,15)),process.once("SIGINT",e.bind(null,!0,2)),process.once("exit",e)),o.push(t)},e.define=(t,e,i)=>{Reflect.defineProperty(t,e,{value:i})},e.defineExport=(t,e,i)=>{let s;Reflect.defineProperty(t,e,{enumerable:!0,configurable:!0,set(t){s=t},get:()=>s?s():i()})}},5602:t=>{"use strict";t.exports=(t,e=1,i)=>{if(i={indent:" ",includeEmptyLines:!1,...i},"string"!=typeof t)throw new TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof t}\``);if("number"!=typeof e)throw new TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof e}\``);if("string"!=typeof i.indent)throw new TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof i.indent}\``);if(0===e)return t;const s=i.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return t.replace(s,i.indent.repeat(e))}},1903:t=>{"use strict";const e=t=>!Number.isNaN(t)&&t>=4352&&(t<=4447||9001===t||9002===t||11904<=t&&t<=12871&&12351!==t||12880<=t&&t<=19903||19968<=t&&t<=42182||43360<=t&&t<=43388||44032<=t&&t<=55203||63744<=t&&t<=64255||65040<=t&&t<=65049||65072<=t&&t<=65131||65281<=t&&t<=65376||65504<=t&&t<=65510||110592<=t&&t<=110593||127488<=t&&t<=127569||131072<=t&&t<=262141);t.exports=e,t.exports.default=e},2724:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BELL_REGEX=e.CLEAR_LINE_REGEX=void 0,e.CLEAR_LINE_REGEX="(?:\\u001b|\\u009b)\\[[\\=><~/#&.:=?%@~_-]*[0-9]*[\\a-ln-tqyz=><~/#&.:=?%@~_-]+",e.BELL_REGEX=/\u0007/},1131:(t,e)=>{"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.ListrEventType=void 0,(i=e.ListrEventType||(e.ListrEventType={})).TITLE="TITLE",i.STATE="STATE",i.ENABLED="ENABLED",i.SUBTASK="SUBTASK",i.DATA="DATA",i.MESSAGE="MESSAGE"},5902:function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i),Object.defineProperty(t,s,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),r=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(i(7836),e),r(i(1131),e)},7836:(t,e)=>{"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.ListrTaskState=void 0,(i=e.ListrTaskState||(e.ListrTaskState={})).PENDING="PENDING",i.COMPLETED="COMPLETED",i.FAILED="FAILED",i.SKIPPED="SKIPPED",i.ROLLING_BACK="ROLLING_BACK",i.ROLLED_BACK="ROLLED_BACK",i.RETRY="RETRY"},2705:function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i),Object.defineProperty(t,s,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),r=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(i(4351),e),r(i(6807),e),r(i(5902),e),r(i(8869),e),r(i(5848),e),r(i(5981),e),r(i(4322),e),r(i(6948),e),r(i(7393),e)},8869:function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i),Object.defineProperty(t,s,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),r=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(i(6726),e),r(i(773),e),r(i(4609),e),r(i(4144),e)},773:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PromptError=e.ListrError=void 0;class i extends Error{constructor(t,e,i){super(t),this.message=t,this.errors=e,this.context=i,this.name="ListrError"}}e.ListrError=i;class s extends Error{constructor(t){super(t),this.name="PromptError"}}e.PromptError=s},6726:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},4144:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},4609:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},3955:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TaskWrapper=void 0;const s=i(6547),r=i(2724),n=i(7836),o=i(773),u=i(4351),a=i(6948);e.TaskWrapper=class{constructor(t,e,i){this.task=t,this.errors=e,this.options=i}set title(t){this.task.title$=t}get title(){return this.task.title}set output(t){this.task.output$=t}get output(){return this.task.output}newListr(t,e){let i;return i="function"==typeof t?t(this):t,new u.Listr(i,e)}report(t){var e,i;if(t instanceof o.ListrError)for(const i of t.errors)this.errors.push(i),this.task.message$={error:i.message||(null===(e=this.task)||void 0===e?void 0:e.title)||"Task with no title."};else this.errors.push(t),this.task.message$={error:t.message||(null===(i=this.task)||void 0===i?void 0:i.title)||"Task with no title."}}skip(t){var e;this.task.state$=n.ListrTaskState.SKIPPED,t&&(this.task.message$={skip:t||(null===(e=this.task)||void 0===e?void 0:e.title)||"Task with no title."})}isRetrying(){return this.task.isRetrying()?this.task.retry:{count:0}}async prompt(t){var e;return a.createPrompt.bind(this)(t,{...null===(e=this.options)||void 0===e?void 0:e.injectWrapper})}cancelPrompt(t=!1){return a.destroyPrompt.bind(this)(t)}stdout(){return s((t=>{const e=new RegExp(r.CLEAR_LINE_REGEX,"gmi");""!==(t=(t=(t=t.toString()).replace(e,"")).replace(new RegExp(r.BELL_REGEX,"gmi"),""))&&(this.output=t)}))}run(t){return this.task.run(t,this)}}},4249:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Task=void 0;const s=i(4947),r=i(2413),n=i(1131),o=i(7836),u=i(773),a=i(4351),l=i(8548),c=i(6255),h=i(1050);class p extends s.Subject{constructor(t,e,i,s){var r,n,o,u,a,l;super(),this.listr=t,this.tasks=e,this.options=i,this.rendererOptions=s,this.message={},this.id=h.generateUUID(),this.title=null===(r=this.tasks)||void 0===r?void 0:r.title,this.initialTitle=null===(n=this.tasks)||void 0===n?void 0:n.title,this.task=this.tasks.task,this.skip=null!==(u=null===(o=this.tasks)||void 0===o?void 0:o.skip)&&void 0!==u&&u,this.enabledFn=null===(l=null===(a=this.tasks)||void 0===a?void 0:a.enabled)||void 0===l||l,this.rendererTaskOptions=this.tasks.options,this.renderHook$=this.listr.renderHook$,this.subscribe((()=>{this.renderHook$.next()}))}set state$(t){if(this.state=t,this.next({type:n.ListrEventType.STATE,data:t}),this.hasSubtasks()&&this.hasFailed())for(const t of this.subtasks)t.state===o.ListrTaskState.PENDING&&(t.state$=o.ListrTaskState.FAILED)}set output$(t){this.output=t,this.next({type:n.ListrEventType.DATA,data:t})}set message$(t){this.message={...this.message,...t},this.next({type:n.ListrEventType.MESSAGE,data:t})}set title$(t){this.title=t,this.next({type:n.ListrEventType.TITLE,data:t})}async check(t){void 0===this.state&&(this.enabled=await l.assertFunctionOrSelf(this.enabledFn,t),this.next({type:n.ListrEventType.ENABLED,data:this.enabled}))}hasSubtasks(){var t;return(null===(t=this.subtasks)||void 0===t?void 0:t.length)>0}isPending(){return this.state===o.ListrTaskState.PENDING}isSkipped(){return this.state===o.ListrTaskState.SKIPPED}isCompleted(){return this.state===o.ListrTaskState.COMPLETED}hasFailed(){return this.state===o.ListrTaskState.FAILED}isRollingBack(){return this.state===o.ListrTaskState.ROLLING_BACK}hasRolledBack(){return this.state===o.ListrTaskState.ROLLED_BACK}isRetrying(){return this.state===o.ListrTaskState.RETRY}isEnabled(){return this.enabled}hasTitle(){return"string"==typeof(null==this?void 0:this.title)}isPrompt(){return!!this.prompt}async run(t,e){var i,h,p,d,f;const D=e=>{if(e instanceof a.Listr){e.options={...this.options,...e.options};const i=c.getRenderer("silent");e.rendererClass=i.renderer,e.renderHook$.subscribe((()=>{this.renderHook$.next()})),this.subtasks=e.tasks,this.next({type:n.ListrEventType.SUBTASK}),e=e.run(t)}else this.isPrompt()||(e instanceof Promise?e=e.then(D):e instanceof r.Readable?e=new Promise(((t,i)=>{e.on("data",(t=>{this.output$=t.toString()})),e.on("error",(t=>i(t))),e.on("end",(()=>t(null)))})):e instanceof s.Observable&&(e=new Promise(((t,i)=>{e.subscribe({next:t=>{this.output$=t},error:i,complete:t})}))));return e},m=Date.now();this.state$=o.ListrTaskState.PENDING;const g=await l.assertFunctionOrSelf(this.skip,t);if(g)return"string"==typeof g?this.message$={skip:g}:this.hasTitle()?this.message$={skip:this.title}:this.message$={skip:"Skipped task without a title."},void(this.state$=o.ListrTaskState.SKIPPED);try{const s=(null===(i=this.tasks)||void 0===i?void 0:i.retry)&&(null===(h=this.tasks)||void 0===h?void 0:h.retry)>0?this.tasks.retry+1:1;for(let i=1;i<=s;i++)try{await D(this.task(t,e));break}catch(t){if(i===s)throw t;this.retry={count:i,withError:t},this.message$={retry:this.retry},this.title$=this.initialTitle,this.output$=void 0,e.report(t),this.state$=o.ListrTaskState.RETRY}(this.isPending()||this.isRetrying())&&(this.message$={duration:Date.now()-m},this.state$=o.ListrTaskState.COMPLETED)}catch(i){if(this.prompt instanceof u.PromptError&&(i=new Error(this.prompt.message)),null===(p=this.tasks)||void 0===p?void 0:p.rollback){e.report(i);try{this.state$=o.ListrTaskState.ROLLING_BACK,await this.tasks.rollback(t,e),this.state$=o.ListrTaskState.ROLLED_BACK,this.message$={rollback:this.title}}catch(t){throw this.state$=o.ListrTaskState.FAILED,e.report(t),i}if(!1!==(null===(d=this.listr.options)||void 0===d?void 0:d.exitAfterRollback))throw new Error(this.title)}else{if(i instanceof u.ListrError)return;if(this.state$=o.ListrTaskState.FAILED,e.report(i),!1!==this.listr.options.exitOnError&&!1!==await l.assertFunctionOrSelf(null===(f=this.tasks)||void 0===f?void 0:f.exitOnError,t))throw i}}finally{this.complete()}}}e.Task=p},4351:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Listr=void 0;const s=i(6301),r=i(4947),n=i(7836),o=i(773),u=i(4249),a=i(3955),l=i(6255);e.Listr=class{constructor(t,e){var i,s,o;this.task=t,this.options=e,this.tasks=[],this.err=[],this.renderHook$=new r.Subject,this.options=Object.assign({concurrent:!1,renderer:"default",nonTTYRenderer:"verbose",exitOnError:!0,exitAfterRollback:!0,registerSignalListeners:!0},e),this.concurrency=1,!0===this.options.concurrent?this.concurrency=1/0:"number"==typeof this.options.concurrent&&(this.concurrency=this.options.concurrent);const u=l.getRenderer(this.options.renderer,this.options.nonTTYRenderer,null===(i=this.options)||void 0===i?void 0:i.rendererFallback,null===(s=this.options)||void 0===s?void 0:s.rendererSilent);this.rendererClass=u.renderer,u.nonTTY?this.rendererClassOptions=this.options.nonTTYRendererOptions:this.rendererClassOptions=this.options.rendererOptions,this.add(t||[]),this.options.registerSignalListeners&&process.once("SIGINT",(()=>{this.tasks.forEach((async t=>{t.isPending()&&(t.state$=n.ListrTaskState.FAILED)})),this.renderer.end(new Error("Interrupted.")),process.exit(127)})).setMaxListeners(0),(null===(o=this.options)||void 0===o?void 0:o.disableColor)&&(process.env.LISTR_DISABLE_COLOR="1")}add(t){(Array.isArray(t)?t:[t]).forEach((t=>{this.tasks.push(new u.Task(this,t,this.options,{...this.rendererClassOptions,...t.options}))}))}async run(t){var e;this.renderer||(this.renderer=new this.rendererClass(this.tasks,this.rendererClassOptions,this.renderHook$)),this.renderer.render(),t=t||(null===(e=this.options)||void 0===e?void 0:e.ctx)||Object.create({});const i=[];await this.checkAll(t);try{await s(this.tasks,(async e=>(await e.check(t),this.runTask(e,t,i))),{concurrency:this.concurrency}),i.length>0&&this.err.push(new o.ListrError("Task failed without crashing.",i,t)),this.renderer.end()}catch(e){if(this.err.push(new o.ListrError("string"==typeof(null==e?void 0:e.message)?e.message:e,[e],t)),!1!==this.options.exitOnError)throw this.renderer.end(e),e}return t}checkAll(t){return Promise.all(this.tasks.map((e=>e.check(t))))}runTask(t,e,i){return t.isEnabled()?new a.TaskWrapper(t,i,this.options).run(e):Promise.resolve()}}},6807:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Manager=void 0;const s=i(4351);e.Manager=class{constructor(t){this.options=t,this.err=[],this.tasks=[]}set ctx(t){this.options.ctx=t}add(t,e){e={...this.options,...e},this.tasks=[...this.tasks,this.indent(t,e)]}async runAll(t){t={...this.options,...t};const e=await this.run(this.tasks,t);return this.tasks=[],e}newListr(t,e){return new s.Listr(t,e)}indent(t,e,i){let s;return e={...this.options,...e},s="function"==typeof t?{...i,task:i=>this.newListr(t(i),e)}:{...i,task:()=>this.newListr(t,e)},s}async run(t,e){e={...this.options,...e};const i=this.newListr(t,e),s=await i.run();return this.err=[],this.err=[...this.err,...i.err],s}getRuntime(t){return Math.round(Date.now()-t)/1e3+"s"}}},9529:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultRenderer=void 0;const s=i(7392),r=i(4480),n=i(2087),o=i(8152),u=i(6131),a=i(7393),l=i(5545),c=i(1018),h=i(5541);class p{constructor(t,e,i){this.tasks=t,this.options=e,this.renderHook$=i,this.bottomBar={},this.spinner=c.isUnicodeSupported()?["⠋","⠙","⠹","⠸","⠼","⠴","⠦","⠧","⠇","⠏"]:["-","\\","|","/"],this.spinnerPosition=0,this.options={...p.rendererOptions,...this.options}}getTaskOptions(t){return{...p.rendererTaskOptions,...t.rendererTaskOptions}}isBottomBar(t){const e=this.getTaskOptions(t).bottomBar;return"number"==typeof e&&0!==e||"boolean"==typeof e&&!1!==e}hasPersistentOutput(t){return!0===this.getTaskOptions(t).persistentOutput}hasTimer(t){return!0===this.getTaskOptions(t).showTimer}getSelfOrParentOption(t,e){var i,s,r;return null!==(s=null===(i=null==t?void 0:t.rendererOptions)||void 0===i?void 0:i[e])&&void 0!==s?s:null===(r=this.options)||void 0===r?void 0:r[e]}getTaskTime(t){return u.default.dim(`[${h.parseTaskTime(t.message.duration)}]`)}createRender(t){t={tasks:!0,bottomBar:!0,prompt:!0,...t};const e=[],i=this.multiLineRenderer(this.tasks),s=this.renderBottomBar(),r=this.renderPrompt();return t.tasks&&(null==i?void 0:i.trim().length)>0&&e.push(i),t.bottomBar&&(null==s?void 0:s.trim().length)>0&&e.push((e.length>0?n.EOL:"")+s),t.prompt&&(null==r?void 0:r.trim().length)>0&&e.push((e.length>0?n.EOL:"")+r),e.length>0?e.join(n.EOL):""}render(){var t;if(this.id)return;const e=()=>r(this.createRender());(null===(t=this.options)||void 0===t?void 0:t.lazy)||(this.id=setInterval((()=>{this.spinnerPosition=++this.spinnerPosition%this.spinner.length,e()}),100)),this.renderHook$.subscribe((()=>{e()}))}end(){clearInterval(this.id),this.id&&(this.id=void 0),r.clear(),r.done(),this.options.clearOutput||process.stdout.write(this.createRender({prompt:!1})+n.EOL)}multiLineRenderer(t,e=0){var i,s;let r=[];for(const n of t)if(n.isEnabled()){if(n.hasTitle()&&(r=!t.some((t=>t.hasFailed()))||n.hasFailed()||!1===n.options.exitOnError||n.isCompleted()||n.isSkipped()?n.hasFailed()&&this.getSelfOrParentOption(n,"collapseErrors")?[...r,this.formatString(!n.hasSubtasks()&&n.message.error&&this.getSelfOrParentOption(n,"showErrorMessage")?n.message.error:n.title,this.getSymbol(n),e)]:n.isSkipped()&&this.getSelfOrParentOption(n,"collapseSkips")?[...r,this.formatString(this.addSuffixToMessage(n.message.skip&&this.getSelfOrParentOption(n,"showSkipMessage")?n.message.skip:n.title,"SKIPPED",this.getSelfOrParentOption(n,"suffixSkips")),this.getSymbol(n),e)]:n.isRetrying()&&this.getSelfOrParentOption(n,"suffixRetries")?[...r,this.formatString(this.addSuffixToMessage(n.title,`RETRYING-${n.message.retry.count}`),this.getSymbol(n),e)]:n.isCompleted()&&n.hasTitle()&&(this.getSelfOrParentOption(n,"showTimer")||this.hasTimer(n))?[...r,this.formatString(`${null==n?void 0:n.title} ${this.getTaskTime(n)}`,this.getSymbol(n),e)]:[...r,this.formatString(n.title,this.getSymbol(n),e)]:[...r,this.formatString(n.title,u.default.red(a.figures.squareSmallFilled),e)]),n.hasSubtasks()&&this.getSelfOrParentOption(n,"showSubtasks")||(!n.hasFailed()||!1!==this.getSelfOrParentOption(n,"collapseErrors")||!this.getSelfOrParentOption(n,"showErrorMessage")&&this.getSelfOrParentOption(n,"showSubtasks")?!n.isSkipped()||!1!==this.getSelfOrParentOption(n,"collapseSkips")||!this.getSelfOrParentOption(n,"showSkipMessage")&&this.getSelfOrParentOption(n,"showSubtasks")||(r=[...r,this.dumpData(n,e,"skip")]):r=[...r,this.dumpData(n,e,"error")]),null==n?void 0:n.output)if((n.isPending()||n.isRetrying()||n.isRollingBack())&&n.isPrompt())this.promptBar=n.output;else if(this.isBottomBar(n)||!n.hasTitle()){const t=[this.dumpData(n,-1)];if(!this.bottomBar[n.id]){this.bottomBar[n.id]={},this.bottomBar[n.id].data=[];const t=this.getTaskOptions(n).bottomBar;this.bottomBar[n.id].items="boolean"==typeof t?1:t}(null===(s=null===(i=this.bottomBar[n.id])||void 0===i?void 0:i.data)||void 0===s?void 0:s.some((e=>t.includes(e))))||n.isSkipped()||(this.bottomBar[n.id].data=[...this.bottomBar[n.id].data,...t])}else(n.isPending()||n.isRetrying()||n.isRollingBack()||this.hasPersistentOutput(n))&&(r=[...r,this.dumpData(n,e)]);if(!1!==this.getSelfOrParentOption(n,"showSubtasks")&&n.hasSubtasks()&&(n.isPending()||n.hasFailed()||n.isCompleted()&&!n.hasTitle()||n.isCompleted()&&!1===this.getSelfOrParentOption(n,"collapse")&&!n.subtasks.some((t=>!0===t.rendererOptions.collapse))||n.subtasks.some((t=>!1===t.rendererOptions.collapse))||n.subtasks.some((t=>t.hasFailed()))||n.subtasks.some((t=>t.hasRolledBack())))){const t=n.hasTitle()?e+1:e,i=this.multiLineRenderer(n.subtasks,t);""===(null==i?void 0:i.trim())||n.subtasks.every((t=>!t.hasTitle()))||(r=[...r,i])}(n.isCompleted()||n.hasFailed()||n.isSkipped()||n.hasRolledBack())&&(this.promptBar=null,this.hasPersistentOutput(n)||delete this.bottomBar[n.id])}return r=r.filter(Boolean),r.length>0?r.join(n.EOL):void 0}renderBottomBar(){if(Object.keys(this.bottomBar).length>0)return this.bottomBar=Object.keys(this.bottomBar).reduce(((t,e)=>((null==t?void 0:t[e])||(t[e]={}),t[e]=this.bottomBar[e],this.bottomBar[e].data=this.bottomBar[e].data.slice(-this.bottomBar[e].items),t[e].data=this.bottomBar[e].data,t)),{}),Object.values(this.bottomBar).reduce(((t,e)=>[...t,...e.data]),[]).filter(Boolean).join(n.EOL)}renderPrompt(){if(this.promptBar)return this.promptBar}dumpData(t,e,i="output"){let s;switch(i){case"output":s=t.output;break;case"skip":s=t.message.skip;break;case"error":s=t.message.error}if(!t.hasTitle()||"error"!==i||s!==t.title)return"string"==typeof s?this.formatString(s,this.getSymbol(t,!0),e+1):void 0}formatString(t,e,i){if(""===t.trim())return;let r;t=`${e} ${t}`;let u=process.stdout.columns?process.stdout.columns:80;switch(u=u-i*this.options.indentation-2,this.options.formatOutput){case"truncate":r=t.split(n.EOL).map(((t,e)=>s(this.indentMultilineOutput(t,e),u)));break;case"wrap":r=o(t,u,{hard:!0}).split(n.EOL).map(((t,e)=>this.indentMultilineOutput(t,e)));break;default:throw new Error("Format option for the renderer is wrong.")}return this.options.removeEmptyLines&&(r=r.filter(Boolean)),l.indentString(r.join(n.EOL),i*this.options.indentation)}indentMultilineOutput(t,e){return e>0?l.indentString(t.trim(),2):t.trim()}getSymbol(t,e=!1){var i,s,r;return t.isPending()&&!e?(null===(i=this.options)||void 0===i?void 0:i.lazy)||!1!==this.getSelfOrParentOption(t,"showSubtasks")&&t.hasSubtasks()&&!t.subtasks.every((t=>!t.hasTitle()))?u.default.yellow(a.figures.pointer):u.default.yellowBright(this.spinner[this.spinnerPosition]):t.isCompleted()&&!e?t.hasSubtasks()&&t.subtasks.some((t=>t.hasFailed()))?u.default.yellow(a.figures.warning):u.default.green(a.figures.tick):t.isRetrying()&&!e?(null===(s=this.options)||void 0===s?void 0:s.lazy)?u.default.yellow(a.figures.warning):u.default.yellow(this.spinner[this.spinnerPosition]):t.isRollingBack()&&!e?(null===(r=this.options)||void 0===r?void 0:r.lazy)?u.default.red(a.figures.warning):u.default.red(this.spinner[this.spinnerPosition]):t.hasRolledBack()&&!e?u.default.red(a.figures.arrowLeft):t.hasFailed()&&!e?t.hasSubtasks()?u.default.red(a.figures.pointer):u.default.red(a.figures.cross):t.isSkipped()&&!e&&!1===this.getSelfOrParentOption(t,"collapseSkips")?u.default.yellow(a.figures.warning):t.isSkipped()&&(e||this.getSelfOrParentOption(t,"collapseSkips"))?u.default.yellow(a.figures.arrowDown):e?a.figures.pointerSmall:u.default.dim(a.figures.squareSmallFilled)}addSuffixToMessage(t,e,i){return null==i||i?t+u.default.dim(` [${e}]`):t}}e.DefaultRenderer=p,p.nonTTY=!1,p.rendererOptions={indentation:2,clearOutput:!1,showSubtasks:!0,collapse:!0,collapseSkips:!0,showSkipMessage:!0,suffixSkips:!0,collapseErrors:!0,showErrorMessage:!0,suffixRetries:!0,lazy:!1,showTimer:!1,removeEmptyLines:!0,formatOutput:"truncate"}},2719:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SilentRenderer=void 0;class i{constructor(t,e){this.tasks=t,this.options=e}render(){}end(){}}e.SilentRenderer=i,i.nonTTY=!0},8303:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VerboseRenderer=void 0;const s=i(1131),r=i(5848),n=i(5541);class o{constructor(t,e){var i,s;this.tasks=t,this.options=e,(null===(i=this.options)||void 0===i?void 0:i.logger)?this.logger=new this.options.logger:this.logger=new r.Logger({useIcons:null===(s=this.options)||void 0===s?void 0:s.useIcons}),this.options={...o.rendererOptions,...this.options}}render(){this.verboseRenderer(this.tasks)}end(){}verboseRenderer(t){return null==t?void 0:t.forEach((t=>{t.subscribe((e=>{var i,r,o,u,a,l,c,h;if(t.isEnabled()){const p=t.hasTitle()?t.title:"Task without title.";e.type===s.ListrEventType.SUBTASK&&t.hasSubtasks()?this.verboseRenderer(t.subtasks):e.type===s.ListrEventType.STATE?(!1!==(null===(i=this.options)||void 0===i?void 0:i.logEmptyTitle)||t.hasTitle())&&(t.isPending()?this.logger.start(p):t.isCompleted()&&this.logger.success(p+((null===(r=this.options)||void 0===r?void 0:r.showTimer)&&(null===(o=t.message)||void 0===o?void 0:o.duration)?` [${n.parseTaskTime(t.message.duration)}]`:""))):e.type===s.ListrEventType.DATA&&e.data?this.logger.data(String(e.data)):e.type===s.ListrEventType.TITLE?!1!==(null===(u=this.options)||void 0===u?void 0:u.logTitleChange)&&this.logger.title(String(e.data)):e.type===s.ListrEventType.MESSAGE&&((null===(a=e.data)||void 0===a?void 0:a.error)?this.logger.fail(String(e.data.error)):(null===(l=e.data)||void 0===l?void 0:l.skip)?this.logger.skip(String(e.data.skip)):(null===(c=e.data)||void 0===c?void 0:c.rollback)?this.logger.rollback(String(e.data.rollback)):(null===(h=e.data)||void 0===h?void 0:h.retry)&&this.logger.retry(`[${e.data.retry.count}] `+String(p)))}}),(t=>{this.logger.fail(t)}))}))}}e.VerboseRenderer=o,o.nonTTY=!0,o.rendererOptions={useIcons:!1,logEmptyTitle:!0,logTitleChange:!0}},8548:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assertFunctionOrSelf=void 0,e.assertFunctionOrSelf=function(t,...e){return"function"==typeof t?t(...e):t}},6131:(t,e,i)=>{"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0});const r=i(7121);"1"===(null===(s=process.env)||void 0===s?void 0:s.LISTR_DISABLE_COLOR)&&(r.options.enabled=!1),e.default=r},7393:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.figures=void 0;const s=i(1018),r={warning:"⚠",cross:"✖",arrowDown:"↓",tick:"✔",arrowRight:"→",pointer:"❯",checkboxOn:"☒",arrowLeft:"←",squareSmallFilled:"◼",pointerSmall:"›"},n={...r,warning:"‼",cross:"×",tick:"√",pointer:">",checkboxOn:"[×]",squareSmallFilled:"■"};e.figures=s.isUnicodeSupported?r:n},5545:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.indentString=void 0,e.indentString=function(t,e){return t.replace(/^(?!\s*$)/gm," ".repeat(e))}},1018:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isUnicodeSupported=void 0,e.isUnicodeSupported=function(){return"win32"!==process.platform||Boolean(process.env.CI)||Boolean(process.env.WT_SESSION)||"vscode"===process.env.TERM_PROGRAM||"xterm-256color"===process.env.TERM||"alacritty"===process.env.TERM}},5981:(t,e)=>{"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.LogLevels=void 0,(i=e.LogLevels||(e.LogLevels={})).SILENT="SILENT",i.FAILED="FAILED",i.SKIPPED="SKIPPED",i.SUCCESS="SUCCESS",i.DATA="DATA",i.STARTED="STARTED",i.TITLE="TITLE",i.RETRY="RETRY",i.ROLLBACK="ROLLBACK"},5848:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=void 0;const s=i(7393),r=i(5981),n=i(6131);e.Logger=class{constructor(t){this.options=t}fail(t){t=this.parseMessage(r.LogLevels.FAILED,t),console.error(t)}skip(t){t=this.parseMessage(r.LogLevels.SKIPPED,t),console.info(t)}success(t){t=this.parseMessage(r.LogLevels.SUCCESS,t),console.log(t)}data(t){t=this.parseMessage(r.LogLevels.DATA,t),console.info(t)}start(t){t=this.parseMessage(r.LogLevels.STARTED,t),console.log(t)}title(t){t=this.parseMessage(r.LogLevels.TITLE,t),console.info(t)}retry(t){t=this.parseMessage(r.LogLevels.RETRY,t),console.warn(t)}rollback(t){t=this.parseMessage(r.LogLevels.ROLLBACK,t),console.warn(t)}parseMessage(t,e){let i;try{i=e.split("\n")}catch{i=[e]}return i=i.map((e=>this.logColoring({level:t,message:e}))),i.join("\n")}logColoring({level:t,message:e}){var i,o,u,a,l,c,h,p;let d,f=t=>t;switch(t){case r.LogLevels.FAILED:(null===(i=this.options)||void 0===i?void 0:i.useIcons)?(f=n.default.red,d=s.figures.cross):d=this.wrapInBrackets(t);break;case r.LogLevels.SKIPPED:(null===(o=this.options)||void 0===o?void 0:o.useIcons)?(f=n.default.yellow,d=s.figures.arrowDown):d=this.wrapInBrackets(t);break;case r.LogLevels.SUCCESS:(null===(u=this.options)||void 0===u?void 0:u.useIcons)?(f=n.default.green,d=s.figures.tick):d=this.wrapInBrackets(t);break;case r.LogLevels.DATA:d=(null===(a=this.options)||void 0===a?void 0:a.useIcons)?s.figures.arrowRight:this.wrapInBrackets(t);break;case r.LogLevels.STARTED:d=(null===(l=this.options)||void 0===l?void 0:l.useIcons)?s.figures.pointer:this.wrapInBrackets(t);break;case r.LogLevels.TITLE:d=(null===(c=this.options)||void 0===c?void 0:c.useIcons)?s.figures.checkboxOn:this.wrapInBrackets(t);break;case r.LogLevels.RETRY:(null===(h=this.options)||void 0===h?void 0:h.useIcons)?(f=n.default.yellow,d=s.figures.pointer):d=this.wrapInBrackets(t);break;case r.LogLevels.ROLLBACK:(null===(p=this.options)||void 0===p?void 0:p.useIcons)?(f=n.default.red,d=s.figures.arrowLeft):d=this.wrapInBrackets(t)}return f(`${d} ${e}`)}wrapInBrackets(t){return`[${t}]`}}},5541:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseTaskTime=void 0,e.parseTaskTime=function(t){const e=Math.floor(t/1e3),i=Math.floor(e/60);let s;return 0===e&&0===i&&(s=`0.${Math.floor(t/100)}s`),e>0&&(s=e%60+"s"),i>0&&(s=`${i}m${s}`),s}},4322:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},6948:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.destroyPrompt=e.createPrompt=void 0;const s=i(1131),r=i(7836),n=i(773),o=i(3955);function u(t){const e="Cancelled prompt.";if(!(this instanceof o.TaskWrapper)){if(!1!==(null==t?void 0:t.error))throw new Error(e);return e}this.task.prompt=new n.PromptError(e)}e.createPrompt=async function(t,e){let a,l;if(a=(null==e?void 0:e.cancelCallback)?e.cancelCallback:u,Array.isArray(t)?1===t.length&&(t=t.reduce(((t,e)=>[...t,Object.assign(e,{name:"default"})]),[])):t=[{...t,name:"default"}],t=t.reduce(((t,i)=>{var s;return[...t,Object.assign(i,{stdout:this instanceof o.TaskWrapper?null!==(s=null==e?void 0:e.stdout)&&void 0!==s?s:this.stdout():process.stdout,onCancel:a.bind(this,e)})]}),[]),null==e?void 0:e.enquirer)l=e.enquirer;else try{l=new(await Promise.resolve().then((()=>i(4031))))}catch(t){throw this.task.prompt=new n.PromptError("Enquirer is a peer dependency that must be installed separately."),new Error(t)}this instanceof o.TaskWrapper&&(l.on("prompt",(t=>this.task.prompt=t)),l.on("submit",(()=>this.task.prompt=void 0)),this.task.subscribe((t=>{t.type===s.ListrEventType.STATE&&t.data===r.ListrTaskState.SKIPPED&&(!this.task.prompt||this.task.prompt instanceof n.PromptError||this.task.prompt.submit())})));const c=await l.prompt(t);return 1===t.length?c.default:c},e.destroyPrompt=function(t=!1){!this.task.prompt||this.task.prompt instanceof n.PromptError||(t?this.task.prompt.cancel():this.task.prompt.submit())}},6255:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getRenderer=void 0;const s=i(9529),r=i(2719),n=i(8303),o=i(8548),u={default:s.DefaultRenderer,verbose:n.VerboseRenderer,silent:r.SilentRenderer};function a(t){return"string"==typeof t?u[t]||u.default:"function"==typeof t?t:u.default}e.getRenderer=function(t,e,i,s){let r,n=a(t);r={renderer:n,nonTTY:!1};const u=o.assertFunctionOrSelf(s),l=o.assertFunctionOrSelf(i);return u?(n=a("silent"),r={renderer:n,nonTTY:!0}):function(t){return!0===process.stdout.isTTY||!0===t.nonTTY}(n)&&!l||(n=a(e),r={renderer:n,nonTTY:!0}),r}},1050:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateUUID=void 0,e.generateUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{const e=16*Math.random()||0;return("x"===t?e:e?3:8).toString(16)}))}},4480:(t,e,i)=>{"use strict";const s=i(5018),r=i(3909),n=i(3903),o=i(7132),u=t=>{const{columns:e}=t;return e||80},a=(t,{showCursor:e=!1}={})=>{let i=0,a=u(t),l="";const c=(...c)=>{e||r.hide();let h=c.join(" ")+"\n";h=((t,e)=>{const i=t.rows||24,s=e.split("\n"),r=s.length-i;return r<=0?e:o(e,s.slice(0,r).join("\n").length+1,e.length)})(t,h);const p=u(t);h===l&&a===p||(l=h,a=p,h=n(h,p,{trim:!1,hard:!0,wordWrap:!1}),t.write(s.eraseLines(i)+h),i=h.split("\n").length)};return c.clear=()=>{t.write(s.eraseLines(i)),l="",a=u(t),i=0},c.done=()=>{l="",a=u(t),i=0,e||r.show()},c};t.exports=a(process.stdout),t.exports.stderr=a(process.stderr),t.exports.create=a},7132:(t,e,i)=>{"use strict";const s=i(1903),r=i(4658),n=i(6434),o=["",""],u=t=>`${o[0]}[${t}m`,a=(t,e,i)=>{let s=[];t=[...t];for(let i of t){const r=i;i.includes(";")&&(i=i.split(";")[0][0]+"0");const o=n.codes.get(Number.parseInt(i,10));if(o){const i=t.indexOf(o.toString());-1===i?s.push(u(e?o:r)):t.splice(i,1)}else{if(e){s.push(u(0));break}s.push(u(r))}}if(e&&(s=s.filter(((t,e)=>s.indexOf(t)===e)),void 0!==i)){const t=u(n.codes.get(Number.parseInt(i,10)));s=s.reduce(((e,i)=>i===t?[i,...e]:[...e,i]),[])}return s.join("")};t.exports=(t,e,i)=>{const n=[...t],u=[];let l,c="number"==typeof i?i:n.length,h=!1,p=0,d="";for(const[f,D]of n.entries()){let n=!1;if(o.includes(D)){const e=/\d[^m]*/.exec(t.slice(f,f+18));l=e&&e.length>0?e[0]:void 0,p<c&&(h=!0,void 0!==l&&u.push(l))}else h&&"m"===D&&(h=!1,n=!0);if(h||n||p++,!r({exact:!0}).test(D)&&s(D.codePointAt())&&(p++,"number"!=typeof i&&c++),p>e&&p<=c)d+=D;else if(p!==e||h||void 0===l){if(p>=c){d+=a(u,!0,l);break}}else d=a(u)}return d}},3903:(t,e,i)=>{"use strict";const s=i(4223),r=i(6003),n=i(6434),o=new Set(["",""]),u=t=>`${o.values().next().value}[${t}m`,a=(t,e,i)=>{const n=[...e];let u=!1,a=s(r(t[t.length-1]));for(const[e,r]of n.entries()){const l=s(r);if(a+l<=i?t[t.length-1]+=r:(t.push(r),a=0),o.has(r))u=!0;else if(u&&"m"===r){u=!1;continue}u||(a+=l,a===i&&e<n.length-1&&(t.push(""),a=0))}!a&&t[t.length-1].length>0&&t.length>1&&(t[t.length-2]+=t.pop())},l=t=>{const e=t.split(" ");let i=e.length;for(;i>0&&!(s(e[i-1])>0);)i--;return i===e.length?t:e.slice(0,i).join(" ")+e.slice(i).join("")};t.exports=(t,e,i)=>String(t).normalize().replace(/\r\n/g,"\n").split("\n").map((t=>((t,e,i={})=>{if(!1!==i.trim&&""===t.trim())return"";let r,c="",h="";const p=(t=>t.split(" ").map((t=>s(t))))(t);let d=[""];for(const[r,n]of t.split(" ").entries()){!1!==i.trim&&(d[d.length-1]=d[d.length-1].trimLeft());let t=s(d[d.length-1]);if(0!==r&&(t>=e&&(!1===i.wordWrap||!1===i.trim)&&(d.push(""),t=0),(t>0||!1===i.trim)&&(d[d.length-1]+=" ",t++)),i.hard&&p[r]>e){const i=e-t,s=1+Math.floor((p[r]-i-1)/e);Math.floor((p[r]-1)/e)<s&&d.push(""),a(d,n,e)}else{if(t+p[r]>e&&t>0&&p[r]>0){if(!1===i.wordWrap&&t<e){a(d,n,e);continue}d.push("")}t+p[r]>e&&!1===i.wordWrap?a(d,n,e):d[d.length-1]+=n}}!1!==i.trim&&(d=d.map(l)),c=d.join("\n");for(const[t,e]of[...c].entries()){if(h+=e,o.has(e)){const e=parseFloat(/\d[^m]*/.exec(c.slice(t,t+4)));r=39===e?null:e}const i=n.codes.get(Number(r));r&&i&&("\n"===c[t+1]?h+=u(i):"\n"===e&&(h+=u(r)))}return h})(t,e,i))).join("\n")},4341:t=>{"use strict";const e=(t,e)=>{for(const i of Reflect.ownKeys(e))Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i));return t};t.exports=e,t.exports.default=e},7678:(t,e,i)=>{"use strict";const s=i(4341),r=new WeakMap,n=(t,e={})=>{if("function"!=typeof t)throw new TypeError("Expected a function");let i,n=0;const o=t.displayName||t.name||"<anonymous>",u=function(...s){if(r.set(u,++n),1===n)i=t.apply(this,s),t=null;else if(!0===e.throw)throw new Error(`Function \`${o}\` can only be called once`);return i};return s(u,t),r.set(u,n),u};t.exports=n,t.exports.default=n,t.exports.callCount=t=>{if(!r.has(t))throw new Error(`The given function \`${t.name}\` is not wrapped by the \`onetime\` package`);return r.get(t)}},6301:(t,e,i)=>{"use strict";const s=i(6455);t.exports=async(t,e,{concurrency:i=1/0,stopOnError:r=!0}={})=>new Promise(((n,o)=>{if("function"!=typeof e)throw new TypeError("Mapper function is required");if(!Number.isSafeInteger(i)&&i!==1/0||!(i>=1))throw new TypeError(`Expected \`concurrency\` to be an integer from 1 and up or \`Infinity\`, got \`${i}\` (${typeof i})`);const u=[],a=[],l=t[Symbol.iterator]();let c=!1,h=!1,p=0,d=0;const f=()=>{if(c)return;const t=l.next(),i=d;if(d++,t.done)return h=!0,void(0===p&&(r||0===a.length?n(u):o(new s(a))));p++,(async()=>{try{const s=await t.value;u[i]=await e(s,i),p--,f()}catch(t){r?(c=!0,o(t)):(a.push(t),p--,f())}})()};for(let t=0;t<i&&(f(),!h);t++);}))},1922:(t,e,i)=>{t.exports=i(2544)},2544:(t,e,i)=>{var s=i(3129),r="win32"===process.platform,n=i(8135),o=/(\r\n)|(\n\r)|\n|\r/,u=i(2087).EOL,a=t.exports=e=function(t,e){var i=s.spawn;if(r){var n=i("cmd"),a="",l=null;n.stdout.on("data",(function(t){a+=t.toString()})),n.stderr.on("data",(function(t){null===l?l=t.toString():l+=t.toString()})),n.on("exit",(function(){var t;(a=a.split(o)).forEach((function(e,i){e&&void 0===t&&0===e.indexOf("CommandLine")&&(t=i)})),a.splice(a.length-1,1),a.splice(0,t),e(l,a.join(u)||!1)})),n.stdin.write("wmic process get ProcessId,ParentProcessId,CommandLine \n"),n.stdin.end()}else{"string"==typeof t&&(t=t.split(/\s+/));const s=i("ps",t);a="",l=null,s.stdout.on("data",(function(t){a+=t.toString()})),s.stderr.on("data",(function(t){null===l?l=t.toString():l+=t.toString()})),s.on("exit",(function(){if(l)return e(l.toString());e(null,a||!1)}))}};e.lookup=function(t,e){var i,s=t.psargs||["lx"],r={};return t.pid&&(i=(i=Array.isArray(t.pid)?t.pid:[t.pid]).map((function(t){return String(t)}))),t.command&&(r.command=new RegExp(t.command,"i")),t.arguments&&(r.arguments=new RegExp(t.arguments,"i")),t.ppid&&(r.ppid=new RegExp(t.ppid)),a(s,(function(t,s){if(t)return e(t);var o=function(t){return t?(e=n.parse(t),i=[],e.forEach((function(t){var e=t.PID&&t.PID[0]||t.ProcessId&&t.ProcessId[0]||void 0,s=t.CMD||t.CommandLine||t.COMMAND||void 0,r=t.PPID&&t.PPID[0]||t.ParentProcessId&&t.ParentProcessId[0]||void 0;if(e&&s){var n=s[0],o="";s.length>1&&(o=s.slice(1)),i.push({pid:e,command:n,arguments:o,ppid:r})}})),i):[];var e,i}(s),u=[];o.forEach((function(t){var e,s=!0;if(!(i&&i.indexOf(String(t.pid))<0)){for(e in r)s=!!r[e].test(t[e])&&s;s&&u.push(t)}})),e(null,u)}))},e.kill=function(t,i,s){2==arguments.length&&"function"==typeof i&&(s=i,i=void 0);var r=i&&i.timeout||30;"object"==typeof i&&(i=i.signal);try{process.kill(t,i)}catch(t){return s&&s(t)}var n=0,o=null,u=!1;function a(i){e.lookup({pid:t},(function(t,e){u||(t?(clearTimeout(o),i&&i(t)):e.length>0?(n=n-1||0,a(i)):5==++n?(clearTimeout(o),i&&i()):a(i))}))}s&&a(s),o=s&&setTimeout((function(){u=!0,s(new Error("Kill process timeout"))}),1e3*r)}},1354:(t,e,i)=>{"use strict";const s=i(7678),r=i(7908);t.exports=s((()=>{r((()=>{process.stderr.write("[?25h")}),{alwaysLast:!0})}))},4947:(t,e,i)=>{"use strict";i.r(e),i.d(e,{ArgumentOutOfRangeError:()=>wt,AsyncSubject:()=>rt,BehaviorSubject:()=>j,ConnectableObservable:()=>T,EMPTY:()=>z,EmptyError:()=>Et,GroupedObservable:()=>I,NEVER:()=>me,Notification:()=>Q,NotificationKind:()=>V,ObjectUnsubscribedError:()=>F,Observable:()=>C,ReplaySubject:()=>it,Scheduler:()=>$,Subject:()=>B,Subscriber:()=>m,Subscription:()=>d,TimeoutError:()=>Ct,UnsubscriptionError:()=>p,VirtualAction:()=>bt,VirtualTimeScheduler:()=>gt,animationFrame:()=>mt,animationFrameScheduler:()=>Dt,asap:()=>ht,asapScheduler:()=>ct,async:()=>dt,asyncScheduler:()=>pt,bindCallback:()=>St,bindNodeCallback:()=>Ot,combineLatest:()=>zt,concat:()=>ie,config:()=>u,defer:()=>se,empty:()=>U,forkJoin:()=>re,from:()=>Ht,fromEvent:()=>oe,fromEventPattern:()=>ae,generate:()=>le,identity:()=>v,iif:()=>he,interval:()=>de,isObservable:()=>vt,merge:()=>De,never:()=>ge,noop:()=>yt,observable:()=>y,of:()=>Z,onErrorResumeNext:()=>be,pairs:()=>ye,partition:()=>Fe,pipe:()=>w,queue:()=>G,queueScheduler:()=>q,race:()=>ke,range:()=>_e,scheduled:()=>Vt,throwError:()=>J,timer:()=>Ae,using:()=>Pe,zip:()=>Ie});var s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function r(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}function n(t){return"function"==typeof t}var o=!1,u={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack,o=t},get useDeprecatedSynchronousErrorHandling(){return o}};function a(t){setTimeout((function(){throw t}),0)}var l={closed:!0,next:function(t){},error:function(t){if(u.useDeprecatedSynchronousErrorHandling)throw t;a(t)},complete:function(){}},c=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}();function h(t){return null!==t&&"object"==typeof t}var p=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),d=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var i=this,s=i._parentOrParents,r=i._ctorUnsubscribe,o=i._unsubscribe,u=i._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,s instanceof t)s.remove(this);else if(null!==s)for(var a=0;a<s.length;++a)s[a].remove(this);if(n(o)){r&&(this._unsubscribe=void 0);try{o.call(this)}catch(t){e=t instanceof p?f(t.errors):[t]}}if(c(u)){a=-1;for(var l=u.length;++a<l;){var d=u[a];if(h(d))try{d.unsubscribe()}catch(t){e=e||[],t instanceof p?e=e.concat(f(t.errors)):e.push(t)}}}if(e)throw new p(e)}},t.prototype.add=function(e){var i=e;if(!e)return t.EMPTY;switch(typeof e){case"function":i=new t(e);case"object":if(i===this||i.closed||"function"!=typeof i.unsubscribe)return i;if(this.closed)return i.unsubscribe(),i;if(!(i instanceof t)){var s=i;(i=new t)._subscriptions=[s]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var r=i._parentOrParents;if(null===r)i._parentOrParents=this;else if(r instanceof t){if(r===this)return i;i._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return i;r.push(this)}var n=this._subscriptions;return null===n?this._subscriptions=[i]:n.push(i),i},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var i=e.indexOf(t);-1!==i&&e.splice(i,1)}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function f(t){return t.reduce((function(t,e){return t.concat(e instanceof p?e.errors:e)}),[])}var D=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),m=function(t){function e(i,s,r){var n=t.call(this)||this;switch(n.syncErrorValue=null,n.syncErrorThrown=!1,n.syncErrorThrowable=!1,n.isStopped=!1,arguments.length){case 0:n.destination=l;break;case 1:if(!i){n.destination=l;break}if("object"==typeof i){i instanceof e?(n.syncErrorThrowable=i.syncErrorThrowable,n.destination=i,i.add(n)):(n.syncErrorThrowable=!0,n.destination=new g(n,i));break}default:n.syncErrorThrowable=!0,n.destination=new g(n,i,s,r)}return n}return r(e,t),e.prototype[D]=function(){return this},e.create=function(t,i,s){var r=new e(t,i,s);return r.syncErrorThrowable=!1,r},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(d),g=function(t){function e(e,i,s,r){var o,u=t.call(this)||this;u._parentSubscriber=e;var a=u;return n(i)?o=i:i&&(o=i.next,s=i.error,r=i.complete,i!==l&&(n((a=Object.create(i)).unsubscribe)&&u.add(a.unsubscribe.bind(a)),a.unsubscribe=u.unsubscribe.bind(u))),u._context=a,u._next=o,u._error=s,u._complete=r,u}return r(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;u.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,i=u.useDeprecatedSynchronousErrorHandling;if(this._error)i&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)i?(e.syncErrorValue=t,e.syncErrorThrown=!0):a(t),this.unsubscribe();else{if(this.unsubscribe(),i)throw t;a(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var i=function(){return t._complete.call(t._context)};u.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,i),this.unsubscribe()):(this.__tryOrUnsub(i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),u.useDeprecatedSynchronousErrorHandling)throw t;a(t)}},e.prototype.__tryOrSetError=function(t,e,i){if(!u.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,i)}catch(e){return u.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(a(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(m);function b(t){for(;t;){var e=t,i=e.closed,s=e.destination,r=e.isStopped;if(i||r)return!1;t=s&&s instanceof m?s:null}return!0}var y=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function v(t){return t}function w(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return E(t)}function E(t){return 0===t.length?v:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var C=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var i=new t;return i.source=this,i.operator=e,i},t.prototype.subscribe=function(t,e,i){var s=this.operator,r=function(t,e,i){if(t){if(t instanceof m)return t;if(t[D])return t[D]()}return t||e||i?new m(t,e,i):new m(l)}(t,e,i);if(s?r.add(s.call(r,this.source)):r.add(this.source||u.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),u.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){u.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),b(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var i=this;return new(e=x(e))((function(e,s){var r;r=i.subscribe((function(e){try{t(e)}catch(t){s(t),r&&r.unsubscribe()}}),s,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[y]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:E(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=x(t))((function(t,i){var s;e.subscribe((function(t){return s=t}),(function(t){return i(t)}),(function(){return t(s)}))}))},t.create=function(e){return new t(e)},t}();function x(t){if(t||(t=u.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var F=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),k=function(t){function e(e,i){var s=t.call(this)||this;return s.subject=e,s.subscriber=i,s.closed=!1,s}return r(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var i=e.indexOf(this.subscriber);-1!==i&&e.splice(i,1)}}},e}(d),S=function(t){function e(e){var i=t.call(this,e)||this;return i.destination=e,i}return r(e,t),e}(m),B=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return r(e,t),e.prototype[D]=function(){return new S(this)},e.prototype.lift=function(t){var e=new _(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new F;if(!this.isStopped)for(var e=this.observers,i=e.length,s=e.slice(),r=0;r<i;r++)s[r].next(t)},e.prototype.error=function(t){if(this.closed)throw new F;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,i=e.length,s=e.slice(),r=0;r<i;r++)s[r].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new F;this.isStopped=!0;for(var t=this.observers,e=t.length,i=t.slice(),s=0;s<e;s++)i[s].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new F;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new F;return this.hasError?(t.error(this.thrownError),d.EMPTY):this.isStopped?(t.complete(),d.EMPTY):(this.observers.push(t),new k(this,t))},e.prototype.asObservable=function(){var t=new C;return t.source=this,t},e.create=function(t,e){return new _(t,e)},e}(C),_=function(t){function e(e,i){var s=t.call(this)||this;return s.destination=e,s.source=i,s}return r(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):d.EMPTY},e}(B),O=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var i=this.connectable;i._refCount++;var s=new A(t,i),r=e.subscribe(s);return s.closed||(s.connection=i.connect()),r},t}(),A=function(t){function e(e,i){var s=t.call(this,e)||this;return s.connectable=i,s}return r(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var i=this.connection,s=t._connection;this.connection=null,!s||i&&s!==i||s.unsubscribe()}}else this.connection=null},e}(m),T=function(t){function e(e,i){var s=t.call(this)||this;return s.source=e,s.subjectFactory=i,s._refCount=0,s._isComplete=!1,s}return r(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new d).add(this.source.subscribe(new P(this.getSubject(),this))),t.closed&&(this._connection=null,t=d.EMPTY)),t},e.prototype.refCount=function(){return(t=this).lift(new O(t));var t},e}(C),P=function(t){function e(e,i){var s=t.call(this,e)||this;return s.connectable=i,s}return r(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(S),I=function(t){function e(e,i,s){var r=t.call(this)||this;return r.key=e,r.groupSubject=i,r.refCountSubscription=s,r}return r(e,t),e.prototype._subscribe=function(t){var e=new d,i=this.refCountSubscription,s=this.groupSubject;return i&&!i.closed&&e.add(new L(i)),e.add(s.subscribe(t)),e},e}(C),L=function(t){function e(e){var i=t.call(this)||this;return i.parent=e,e.count++,i}return r(e,t),e.prototype.unsubscribe=function(){var e=this.parent;e.closed||this.closed||(t.prototype.unsubscribe.call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())},e}(d),j=function(t){function e(e){var i=t.call(this)||this;return i._value=e,i}return r(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var i=t.prototype._subscribe.call(this,e);return i&&!i.closed&&e.next(this._value),i},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new F;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(B),R=function(t){function e(e,i){var s=t.call(this,e,i)||this;return s.scheduler=e,s.work=i,s.pending=!1,s}return r(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(s,this.id,e),this},e.prototype.requestAsyncId=function(t,e,i){return void 0===i&&(i=0),setInterval(t.flush.bind(t,this),i)},e.prototype.recycleAsyncId=function(t,e,i){if(void 0===i&&(i=0),null!==i&&this.delay===i&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var i=!1,s=void 0;try{this.work(t)}catch(t){i=!0,s=!!t&&t||new Error(t)}if(i)return this.unsubscribe(),s},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,i=e.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==s&&i.splice(s,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,i){return t.call(this)||this}return r(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(d)),M=function(t){function e(e,i){var s=t.call(this,e,i)||this;return s.scheduler=e,s.work=i,s}return r(e,t),e.prototype.schedule=function(e,i){return void 0===i&&(i=0),i>0?t.prototype.schedule.call(this,e,i):(this.delay=i,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,i){return i>0||this.closed?t.prototype.execute.call(this,e,i):this._execute(e,i)},e.prototype.requestAsyncId=function(e,i,s){return void 0===s&&(s=0),null!==s&&s>0||null===s&&this.delay>0?t.prototype.requestAsyncId.call(this,e,i,s):e.flush(this)},e}(R),$=function(){function t(e,i){void 0===i&&(i=t.now),this.SchedulerAction=e,this.now=i}return t.prototype.schedule=function(t,e,i){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(i,e)},t.now=function(){return Date.now()},t}(),N=function(t){function e(i,s){void 0===s&&(s=$.now);var r=t.call(this,i,(function(){return e.delegate&&e.delegate!==r?e.delegate.now():s()}))||this;return r.actions=[],r.active=!1,r.scheduled=void 0,r}return r(e,t),e.prototype.schedule=function(i,s,r){return void 0===s&&(s=0),e.delegate&&e.delegate!==this?e.delegate.schedule(i,s,r):t.prototype.schedule.call(this,i,s,r)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var i;this.active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}},e}($),q=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(N))(M),G=q,z=new C((function(t){return t.complete()}));function U(t){return t?function(t){return new C((function(e){return t.schedule((function(){return e.complete()}))}))}(t):z}function Y(t){return t&&"function"==typeof t.schedule}var V,H=function(t){return function(e){for(var i=0,s=t.length;i<s&&!e.closed;i++)e.next(t[i]);e.complete()}};function K(t,e){return new C((function(i){var s=new d,r=0;return s.add(e.schedule((function(){r!==t.length?(i.next(t[r++]),i.closed||s.add(this.schedule())):i.complete()}))),s}))}function W(t,e){return e?K(t,e):new C(H(t))}function Z(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t[t.length-1];return Y(i)?(t.pop(),K(t,i)):W(t)}function J(t,e){return new C(e?function(i){return e.schedule(X,0,{error:t,subscriber:i})}:function(e){return e.error(t)})}function X(t){var e=t.error;t.subscriber.error(e)}V||(V={});var Q=function(){function t(t,e,i){this.kind=t,this.value=e,this.error=i,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,i){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return i&&i()}},t.prototype.accept=function(t,e,i){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,i)},t.prototype.toObservable=function(){switch(this.kind){case"N":return Z(this.value);case"E":return J(this.error);case"C":return U()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}(),tt=function(t){function e(e,i,s){void 0===s&&(s=0);var r=t.call(this,e)||this;return r.scheduler=i,r.delay=s,r}return r(e,t),e.dispatch=function(t){var e=t.notification,i=t.destination;e.observe(i),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.destination.add(this.scheduler.schedule(e.dispatch,this.delay,new et(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(Q.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(Q.createError(t)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(Q.createComplete()),this.unsubscribe()},e}(m),et=function(){return function(t,e){this.notification=t,this.destination=e}}(),it=function(t){function e(e,i,s){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===i&&(i=Number.POSITIVE_INFINITY);var r=t.call(this)||this;return r.scheduler=s,r._events=[],r._infiniteTimeWindow=!1,r._bufferSize=e<1?1:e,r._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(r._infiniteTimeWindow=!0,r.next=r.nextInfiniteTimeWindow):r.next=r.nextTimeWindow,r}return r(e,t),e.prototype.nextInfiniteTimeWindow=function(e){if(!this.isStopped){var i=this._events;i.push(e),i.length>this._bufferSize&&i.shift()}t.prototype.next.call(this,e)},e.prototype.nextTimeWindow=function(e){this.isStopped||(this._events.push(new st(this._getNow(),e)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,i=this._infiniteTimeWindow,s=i?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,n=s.length;if(this.closed)throw new F;if(this.isStopped||this.hasError?e=d.EMPTY:(this.observers.push(t),e=new k(this,t)),r&&t.add(t=new tt(t,r)),i)for(var o=0;o<n&&!t.closed;o++)t.next(s[o]);else for(o=0;o<n&&!t.closed;o++)t.next(s[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||G).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,i=this._windowTime,s=this._events,r=s.length,n=0;n<r&&!(t-s[n].time<i);)n++;return r>e&&(n=Math.max(n,r-e)),n>0&&s.splice(0,n),s},e}(B),st=function(){return function(t,e){this.time=t,this.value=e}}(),rt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.value=null,e.hasNext=!1,e.hasCompleted=!1,e}return r(e,t),e.prototype._subscribe=function(e){return this.hasError?(e.error(this.thrownError),d.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),d.EMPTY):t.prototype._subscribe.call(this,e)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.error=function(e){this.hasCompleted||t.prototype.error.call(this,e)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(B),nt=1,ot=function(){return Promise.resolve()}(),ut={};function at(t){return t in ut&&(delete ut[t],!0)}var lt=function(t){function e(e,i){var s=t.call(this,e,i)||this;return s.scheduler=e,s.work=i,s}return r(e,t),e.prototype.requestAsyncId=function(e,i,s){return void 0===s&&(s=0),null!==s&&s>0?t.prototype.requestAsyncId.call(this,e,i,s):(e.actions.push(this),e.scheduled||(e.scheduled=(r=e.flush.bind(e,null),n=nt++,ut[n]=!0,ot.then((function(){return at(n)&&r()})),n)));var r,n},e.prototype.recycleAsyncId=function(e,i,s){if(void 0===s&&(s=0),null!==s&&s>0||null===s&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,i,s);0===e.actions.length&&(at(i),e.scheduled=void 0)},e}(R),ct=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,i=this.actions,s=-1,r=i.length;t=t||i.shift();do{if(e=t.execute(t.state,t.delay))break}while(++s<r&&(t=i.shift()));if(this.active=!1,e){for(;++s<r&&(t=i.shift());)t.unsubscribe();throw e}},e}(N))(lt),ht=ct,pt=new N(R),dt=pt,ft=function(t){function e(e,i){var s=t.call(this,e,i)||this;return s.scheduler=e,s.work=i,s}return r(e,t),e.prototype.requestAsyncId=function(e,i,s){return void 0===s&&(s=0),null!==s&&s>0?t.prototype.requestAsyncId.call(this,e,i,s):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame((function(){return e.flush(null)}))))},e.prototype.recycleAsyncId=function(e,i,s){if(void 0===s&&(s=0),null!==s&&s>0||null===s&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,i,s);0===e.actions.length&&(cancelAnimationFrame(i),e.scheduled=void 0)},e}(R),Dt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,i=this.actions,s=-1,r=i.length;t=t||i.shift();do{if(e=t.execute(t.state,t.delay))break}while(++s<r&&(t=i.shift()));if(this.active=!1,e){for(;++s<r&&(t=i.shift());)t.unsubscribe();throw e}},e}(N))(ft),mt=Dt,gt=function(t){function e(e,i){void 0===e&&(e=bt),void 0===i&&(i=Number.POSITIVE_INFINITY);var s=t.call(this,e,(function(){return s.frame}))||this;return s.maxFrames=i,s.frame=0,s.index=-1,s}return r(e,t),e.prototype.flush=function(){for(var t,e,i=this.actions,s=this.maxFrames;(e=i[0])&&e.delay<=s&&(i.shift(),this.frame=e.delay,!(t=e.execute(e.state,e.delay))););if(t){for(;e=i.shift();)e.unsubscribe();throw t}},e.frameTimeFactor=10,e}(N),bt=function(t){function e(e,i,s){void 0===s&&(s=e.index+=1);var r=t.call(this,e,i)||this;return r.scheduler=e,r.work=i,r.index=s,r.active=!0,r.index=e.index=s,r}return r(e,t),e.prototype.schedule=function(i,s){if(void 0===s&&(s=0),!this.id)return t.prototype.schedule.call(this,i,s);this.active=!1;var r=new e(this.scheduler,this.work);return this.add(r),r.schedule(i,s)},e.prototype.requestAsyncId=function(t,i,s){void 0===s&&(s=0),this.delay=t.frame+s;var r=t.actions;return r.push(this),r.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(t,e,i){void 0===i&&(i=0)},e.prototype._execute=function(e,i){if(!0===this.active)return t.prototype._execute.call(this,e,i)},e.sortActions=function(t,e){return t.delay===e.delay?t.index===e.index?0:t.index>e.index?1:-1:t.delay>e.delay?1:-1},e}(R);function yt(){}function vt(t){return!!t&&(t instanceof C||"function"==typeof t.lift&&"function"==typeof t.subscribe)}var wt=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),Et=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),Ct=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}();function xt(t,e){return function(i){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new Ft(t,e))}}var Ft=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new kt(t,this.project,this.thisArg))},t}(),kt=function(t){function e(e,i,s){var r=t.call(this,e)||this;return r.project=i,r.count=0,r.thisArg=s||r,r}return r(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(m);function St(t,e,i){if(e){if(!Y(e))return function(){for(var s=[],r=0;r<arguments.length;r++)s[r]=arguments[r];return St(t,i).apply(void 0,s).pipe(xt((function(t){return c(t)?e.apply(void 0,t):e(t)})))};i=e}return function(){for(var e=[],s=0;s<arguments.length;s++)e[s]=arguments[s];var r,n=this,o={context:n,subject:r,callbackFunc:t,scheduler:i};return new C((function(s){if(i){var u={args:e,subscriber:s,params:o};return i.schedule(Bt,0,u)}if(!r){r=new rt;try{t.apply(n,e.concat([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];r.next(t.length<=1?t[0]:t),r.complete()}]))}catch(t){b(r)?r.error(t):console.warn(t)}}return r.subscribe(s)}))}}function Bt(t){var e=this,i=t.args,s=t.subscriber,r=t.params,n=r.callbackFunc,o=r.context,u=r.scheduler,a=r.subject;if(!a){a=r.subject=new rt;try{n.apply(o,i.concat([function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var s=t.length<=1?t[0]:t;e.add(u.schedule(_t,0,{value:s,subject:a}))}]))}catch(t){a.error(t)}}this.add(a.subscribe(s))}function _t(t){var e=t.value,i=t.subject;i.next(e),i.complete()}function Ot(t,e,i){if(e){if(!Y(e))return function(){for(var s=[],r=0;r<arguments.length;r++)s[r]=arguments[r];return Ot(t,i).apply(void 0,s).pipe(xt((function(t){return c(t)?e.apply(void 0,t):e(t)})))};i=e}return function(){for(var e=[],s=0;s<arguments.length;s++)e[s]=arguments[s];var r={subject:void 0,args:e,callbackFunc:t,scheduler:i,context:this};return new C((function(s){var n=r.context,o=r.subject;if(i)return i.schedule(At,0,{params:r,subscriber:s,context:n});if(!o){o=r.subject=new rt;try{t.apply(n,e.concat([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t.shift();i?o.error(i):(o.next(t.length<=1?t[0]:t),o.complete())}]))}catch(t){b(o)?o.error(t):console.warn(t)}}return o.subscribe(s)}))}}function At(t){var e=this,i=t.params,s=t.subscriber,r=t.context,n=i.callbackFunc,o=i.args,u=i.scheduler,a=i.subject;if(!a){a=i.subject=new rt;try{n.apply(r,o.concat([function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var s=t.shift();if(s)e.add(u.schedule(Pt,0,{err:s,subject:a}));else{var r=t.length<=1?t[0]:t;e.add(u.schedule(Tt,0,{value:r,subject:a}))}}]))}catch(t){this.add(u.schedule(Pt,0,{err:t,subject:a}))}}this.add(a.subscribe(s))}function Tt(t){var e=t.value,i=t.subject;i.next(e),i.complete()}function Pt(t){var e=t.err;t.subject.error(e)}var It=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.notifyNext=function(t,e,i,s,r){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(m),Lt=function(t){function e(e,i,s){var r=t.call(this)||this;return r.parent=e,r.outerValue=i,r.outerIndex=s,r.index=0,r}return r(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(m);function jt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var Rt=jt(),Mt=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function $t(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var Nt=function(t){if(t&&"function"==typeof t[y])return s=t,function(t){var e=s[y]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Mt(t))return H(t);if($t(t))return i=t,function(t){return i.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,a),t};if(t&&"function"==typeof t[Rt])return e=t,function(t){for(var i=e[Rt]();;){var s=void 0;try{s=i.next()}catch(e){return t.error(e),t}if(s.done){t.complete();break}if(t.next(s.value),t.closed)break}return"function"==typeof i.return&&t.add((function(){i.return&&i.return()})),t};var e,i,s,r=h(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+r+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function qt(t,e,i,s,r){if(void 0===r&&(r=new Lt(t,i,s)),!r.closed)return e instanceof C?e.subscribe(r):Nt(e)(r)}var Gt={};function zt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=void 0,s=void 0;return Y(t[t.length-1])&&(s=t.pop()),"function"==typeof t[t.length-1]&&(i=t.pop()),1===t.length&&c(t[0])&&(t=t[0]),W(t,s).lift(new Ut(i))}var Ut=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new Yt(t,this.resultSelector))},t}(),Yt=function(t){function e(e,i){var s=t.call(this,e)||this;return s.resultSelector=i,s.active=0,s.values=[],s.observables=[],s}return r(e,t),e.prototype._next=function(t){this.values.push(Gt),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var i=0;i<e;i++){var s=t[i];this.add(qt(this,s,void 0,i))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,i){var s=this.values,r=s[i],n=this.toRespond?r===Gt?--this.toRespond:this.toRespond:0;s[i]=e,0===n&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(It);function Vt(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[y]}(t))return function(t,e){return new C((function(i){var s=new d;return s.add(e.schedule((function(){var r=t[y]();s.add(r.subscribe({next:function(t){s.add(e.schedule((function(){return i.next(t)})))},error:function(t){s.add(e.schedule((function(){return i.error(t)})))},complete:function(){s.add(e.schedule((function(){return i.complete()})))}}))}))),s}))}(t,e);if($t(t))return function(t,e){return new C((function(i){var s=new d;return s.add(e.schedule((function(){return t.then((function(t){s.add(e.schedule((function(){i.next(t),s.add(e.schedule((function(){return i.complete()})))})))}),(function(t){s.add(e.schedule((function(){return i.error(t)})))}))}))),s}))}(t,e);if(Mt(t))return K(t,e);if(function(t){return t&&"function"==typeof t[Rt]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new C((function(i){var s,r=new d;return r.add((function(){s&&"function"==typeof s.return&&s.return()})),r.add(e.schedule((function(){s=t[Rt](),r.add(e.schedule((function(){if(!i.closed){var t,e;try{var r=s.next();t=r.value,e=r.done}catch(t){return void i.error(t)}e?i.complete():(i.next(t),this.schedule())}})))}))),r}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function Ht(t,e){return e?Vt(t,e):t instanceof C?t:new C(Nt(t))}var Kt=function(t){function e(e){var i=t.call(this)||this;return i.parent=e,i}return r(e,t),e.prototype._next=function(t){this.parent.notifyNext(t)},e.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(m),Wt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(m);function Zt(t,e){if(!e.closed){if(t instanceof C)return t.subscribe(e);var i;try{i=Nt(t)(e)}catch(t){e.error(t)}return i}}function Jt(t,e,i){return void 0===i&&(i=Number.POSITIVE_INFINITY),"function"==typeof e?function(s){return s.pipe(Jt((function(i,s){return Ht(t(i,s)).pipe(xt((function(t,r){return e(i,t,s,r)})))}),i))}:("number"==typeof e&&(i=e),function(e){return e.lift(new Xt(t,i))})}var Xt=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new Qt(t,this.project,this.concurrent))},t}(),Qt=function(t){function e(e,i,s){void 0===s&&(s=Number.POSITIVE_INFINITY);var r=t.call(this,e)||this;return r.project=i,r.concurrent=s,r.hasCompleted=!1,r.buffer=[],r.active=0,r.index=0,r}return r(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,i=this.index++;try{e=this.project(t,i)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e)},e.prototype._innerSub=function(t){var e=new Kt(this),i=this.destination;i.add(e);var s=Zt(t,e);s!==e&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(Wt);function te(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),Jt(v,t)}function ee(){return te(1)}function ie(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ee()(Z.apply(void 0,t))}function se(t){return new C((function(e){var i;try{i=t()}catch(t){return void e.error(t)}return(i?Ht(i):U()).subscribe(e)}))}function re(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){var i=t[0];if(c(i))return ne(i,null);if(h(i)&&Object.getPrototypeOf(i)===Object.prototype){var s=Object.keys(i);return ne(s.map((function(t){return i[t]})),s)}}if("function"==typeof t[t.length-1]){var r=t.pop();return ne(t=1===t.length&&c(t[0])?t[0]:t,null).pipe(xt((function(t){return r.apply(void 0,t)})))}return ne(t,null)}function ne(t,e){return new C((function(i){var s=t.length;if(0!==s)for(var r=new Array(s),n=0,o=0,u=function(u){var a=Ht(t[u]),l=!1;i.add(a.subscribe({next:function(t){l||(l=!0,o++),r[u]=t},error:function(t){return i.error(t)},complete:function(){++n!==s&&l||(o===s&&i.next(e?e.reduce((function(t,e,i){return t[e]=r[i],t}),{}):r),i.complete())}}))},a=0;a<s;a++)u(a);else i.complete()}))}function oe(t,e,i,s){return n(i)&&(s=i,i=void 0),s?oe(t,e,i).pipe(xt((function(t){return c(t)?s.apply(void 0,t):s(t)}))):new C((function(s){ue(t,e,(function(t){arguments.length>1?s.next(Array.prototype.slice.call(arguments)):s.next(t)}),s,i)}))}function ue(t,e,i,s,r){var n;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){var o=t;t.addEventListener(e,i,r),n=function(){return o.removeEventListener(e,i,r)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){var u=t;t.on(e,i),n=function(){return u.off(e,i)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){var a=t;t.addListener(e,i),n=function(){return a.removeListener(e,i)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var l=0,c=t.length;l<c;l++)ue(t[l],e,i,s,r)}s.add(n)}function ae(t,e,i){return i?ae(t,e).pipe(xt((function(t){return c(t)?i.apply(void 0,t):i(t)}))):new C((function(i){var s,r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i.next(1===t.length?t[0]:t)};try{s=t(r)}catch(t){return void i.error(t)}if(n(e))return function(){return e(r,s)}}))}function le(t,e,i,s,r){var n,o;if(1==arguments.length){var u=t;o=u.initialState,e=u.condition,i=u.iterate,n=u.resultSelector||v,r=u.scheduler}else void 0===s||Y(s)?(o=t,n=v,r=s):(o=t,n=s);return new C((function(t){var s=o;if(r)return r.schedule(ce,0,{subscriber:t,iterate:i,condition:e,resultSelector:n,state:s});for(;;){if(e){var u=void 0;try{u=e(s)}catch(e){return void t.error(e)}if(!u){t.complete();break}}var a=void 0;try{a=n(s)}catch(e){return void t.error(e)}if(t.next(a),t.closed)break;try{s=i(s)}catch(e){return void t.error(e)}}}))}function ce(t){var e=t.subscriber,i=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(t){return void e.error(t)}else t.needIterate=!0;if(i){var s=void 0;try{s=i(t.state)}catch(t){return void e.error(t)}if(!s)return void e.complete();if(e.closed)return}var r;try{r=t.resultSelector(t.state)}catch(t){return void e.error(t)}if(!e.closed&&(e.next(r),!e.closed))return this.schedule(t)}}function he(t,e,i){return void 0===e&&(e=z),void 0===i&&(i=z),se((function(){return t()?e:i}))}function pe(t){return!c(t)&&t-parseFloat(t)+1>=0}function de(t,e){return void 0===t&&(t=0),void 0===e&&(e=dt),(!pe(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=dt),new C((function(i){return i.add(e.schedule(fe,t,{subscriber:i,counter:0,period:t})),i}))}function fe(t){var e=t.subscriber,i=t.counter,s=t.period;e.next(i),this.schedule({subscriber:e,counter:i+1,period:s},s)}function De(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=Number.POSITIVE_INFINITY,s=null,r=t[t.length-1];return Y(r)?(s=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(i=t.pop())):"number"==typeof r&&(i=t.pop()),null===s&&1===t.length&&t[0]instanceof C?t[0]:te(i)(W(t,s))}var me=new C(yt);function ge(){return me}function be(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0===t.length)return z;var i=t[0],s=t.slice(1);return 1===t.length&&c(i)?be.apply(void 0,i):new C((function(t){var e=function(){return t.add(be.apply(void 0,s).subscribe(t))};return Ht(i).subscribe({next:function(e){t.next(e)},error:e,complete:e})}))}function ye(t,e){return new C(e?function(i){var s=Object.keys(t),r=new d;return r.add(e.schedule(ve,0,{keys:s,index:0,subscriber:i,subscription:r,obj:t})),r}:function(e){for(var i=Object.keys(t),s=0;s<i.length&&!e.closed;s++){var r=i[s];t.hasOwnProperty(r)&&e.next([r,t[r]])}e.complete()})}function ve(t){var e=t.keys,i=t.index,s=t.subscriber,r=t.subscription,n=t.obj;if(!s.closed)if(i<e.length){var o=e[i];s.next([o,n[o]]),r.add(this.schedule({keys:e,index:i+1,subscriber:s,subscription:r,obj:n}))}else s.complete()}function we(t,e){function i(){return!i.pred.apply(i.thisArg,arguments)}return i.pred=t,i.thisArg=e,i}function Ee(t,e){return function(i){return i.lift(new Ce(t,e))}}var Ce=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new xe(t,this.predicate,this.thisArg))},t}(),xe=function(t){function e(e,i,s){var r=t.call(this,e)||this;return r.predicate=i,r.thisArg=s,r.count=0,r}return r(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(m);function Fe(t,e,i){return[Ee(e,i)(new C(Nt(t))),Ee(we(e,i))(new C(Nt(t)))]}function ke(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){if(!c(t[0]))return t[0];t=t[0]}return W(t,void 0).lift(new Se)}var Se=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new Be(t))},t}(),Be=function(t){function e(e){var i=t.call(this,e)||this;return i.hasFirst=!1,i.observables=[],i.subscriptions=[],i}return r(e,t),e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var i=0;i<e&&!this.hasFirst;i++){var s=qt(this,t[i],void 0,i);this.subscriptions&&this.subscriptions.push(s),this.add(s)}this.observables=null}},e.prototype.notifyNext=function(t,e,i){if(!this.hasFirst){this.hasFirst=!0;for(var s=0;s<this.subscriptions.length;s++)if(s!==i){var r=this.subscriptions[s];r.unsubscribe(),this.remove(r)}this.subscriptions=null}this.destination.next(e)},e}(It);function _e(t,e,i){return void 0===t&&(t=0),new C((function(s){void 0===e&&(e=t,t=0);var r=0,n=t;if(i)return i.schedule(Oe,0,{index:r,count:e,start:t,subscriber:s});for(;;){if(r++>=e){s.complete();break}if(s.next(n++),s.closed)break}}))}function Oe(t){var e=t.start,i=t.index,s=t.count,r=t.subscriber;i>=s?r.complete():(r.next(e),r.closed||(t.index=i+1,t.start=e+1,this.schedule(t)))}function Ae(t,e,i){void 0===t&&(t=0);var s=-1;return pe(e)?s=Number(e)<1?1:Number(e):Y(e)&&(i=e),Y(i)||(i=dt),new C((function(e){var r=pe(t)?t:+t-i.now();return i.schedule(Te,r,{index:0,period:s,subscriber:e})}))}function Te(t){var e=t.index,i=t.period,s=t.subscriber;if(s.next(e),!s.closed){if(-1===i)return s.complete();t.index=e+1,this.schedule(t,i)}}function Pe(t,e){return new C((function(i){var s,r;try{s=t()}catch(t){return void i.error(t)}try{r=e(s)}catch(t){return void i.error(t)}var n=(r?Ht(r):z).subscribe(i);return function(){n.unsubscribe(),s&&s.unsubscribe()}}))}function Ie(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t[t.length-1];return"function"==typeof i&&t.pop(),W(t,void 0).lift(new Le(i))}var Le=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new je(t,this.resultSelector))},t}(),je=function(t){function e(e,i,s){void 0===s&&(s=Object.create(null));var r=t.call(this,e)||this;return r.resultSelector=i,r.iterators=[],r.active=0,r.resultSelector="function"==typeof i?i:void 0,r}return r(e,t),e.prototype._next=function(t){var e=this.iterators;c(t)?e.push(new Me(t)):"function"==typeof t[Rt]?e.push(new Re(t[Rt]())):e.push(new $e(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(var i=0;i<e;i++){var s=t[i];s.stillUnsubscribed?this.destination.add(s.subscribe()):this.active--}}else this.destination.complete()},e.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,i=this.destination,s=0;s<e;s++)if("function"==typeof(o=t[s]).hasValue&&!o.hasValue())return;var r=!1,n=[];for(s=0;s<e;s++){var o,u=(o=t[s]).next();if(o.hasCompleted()&&(r=!0),u.done)return void i.complete();n.push(u.value)}this.resultSelector?this._tryresultSelector(n):i.next(n),r&&i.complete()},e.prototype._tryresultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(m),Re=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return Boolean(t&&t.done)},t}(),Me=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[Rt]=function(){return this},t.prototype.next=function(t){var e=this.index++,i=this.array;return e<this.length?{value:i[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),$e=function(t){function e(e,i,s){var r=t.call(this,e)||this;return r.parent=i,r.observable=s,r.stillUnsubscribed=!0,r.buffer=[],r.isComplete=!1,r}return r(e,t),e.prototype[Rt]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t){this.buffer.push(t),this.parent.checkIterators()},e.prototype.subscribe=function(){return Zt(this.observable,new Kt(this))},e}(Wt)},7908:(t,e,i)=>{var s,r=i(2357),n=i(5397),o=/^win/i.test(process.platform),u=i(8614);function a(){h&&(h=!1,n.forEach((function(t){try{process.removeListener(t,c[t])}catch(t){}})),process.emit=D,process.reallyExit=d,s.count-=1)}function l(t,e,i){s.emitted[t]||(s.emitted[t]=!0,s.emit(t,e,i))}"function"!=typeof u&&(u=u.EventEmitter),process.__signal_exit_emitter__?s=process.__signal_exit_emitter__:((s=process.__signal_exit_emitter__=new u).count=0,s.emitted={}),s.infinite||(s.setMaxListeners(1/0),s.infinite=!0),t.exports=function(t,e){r.equal(typeof t,"function","a callback must be provided for exit handler"),!1===h&&p();var i="exit";return e&&e.alwaysLast&&(i="afterexit"),s.on(i,t),function(){s.removeListener(i,t),0===s.listeners("exit").length&&0===s.listeners("afterexit").length&&a()}},t.exports.unload=a;var c={};n.forEach((function(t){c[t]=function(){process.listeners(t).length===s.count&&(a(),l("exit",null,t),l("afterexit",null,t),o&&"SIGHUP"===t&&(t="SIGINT"),process.kill(process.pid,t))}})),t.exports.signals=function(){return n},t.exports.load=p;var h=!1;function p(){h||(h=!0,s.count+=1,n=n.filter((function(t){try{return process.on(t,c[t]),!0}catch(t){return!1}})),process.emit=m,process.reallyExit=f)}var d=process.reallyExit;function f(t){process.exitCode=t||0,l("exit",process.exitCode,null),l("afterexit",process.exitCode,null),d.call(process,process.exitCode)}var D=process.emit;function m(t,e){if("exit"===t){void 0!==e&&(process.exitCode=e);var i=D.apply(this,arguments);return l("exit",process.exitCode,null),l("afterexit",process.exitCode,null),i}return D.apply(this,arguments)}},5397:t=>{t.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"],"win32"!==process.platform&&t.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),"linux"===process.platform&&t.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")},5119:(t,e,i)=>{"use strict";const s=i(1903),r=i(4658),n=i(6434),o=["",""],u=t=>`${o[0]}[${t}m`,a=(t,e,i)=>{let s=[];t=[...t];for(let i of t){const r=i;i.match(";")&&(i=i.split(";")[0][0]+"0");const o=n.codes.get(parseInt(i,10));if(o){const i=t.indexOf(o.toString());i>=0?t.splice(i,1):s.push(u(e?o:r))}else{if(e){s.push(u(0));break}s.push(u(r))}}if(e&&(s=s.filter(((t,e)=>s.indexOf(t)===e)),void 0!==i)){const t=u(n.codes.get(parseInt(i,10)));s=s.reduce(((e,i)=>i===t?[i,...e]:[...e,i]),[])}return s.join("")};t.exports=(t,e,i)=>{const n=[...t.normalize()],u=[];i="number"==typeof i?i:n.length;let l,c=!1,h=0,p="";for(const[d,f]of n.entries()){let n=!1;if(o.includes(f)){const e=/\d[^m]*/.exec(t.slice(d,d+18));l=e&&e.length>0?e[0]:void 0,h<i&&(c=!0,void 0!==l&&u.push(l))}else c&&"m"===f&&(c=!1,n=!0);if(c||n||++h,!r({exact:!0}).test(f)&&s(f.codePointAt())&&++h,h>e&&h<=i)p+=f;else if(h!==e||c||void 0===l){if(h>=i){p+=a(u,!0,l);break}}else p=a(u)}return p}},4223:(t,e,i)=>{"use strict";const s=i(6003),r=i(1903),n=i(809),o=t=>{if("string"!=typeof t||0===t.length)return 0;if(0===(t=s(t)).length)return 0;t=t.replace(n(),"  ");let e=0;for(let i=0;i<t.length;i++){const s=t.codePointAt(i);s<=31||s>=127&&s<=159||s>=768&&s<=879||(s>65535&&i++,e+=r(s)?2:1)}return e};t.exports=o,t.exports.default=o},6003:(t,e,i)=>{"use strict";const s=i(4277);t.exports=t=>"string"==typeof t?t.replace(s(),""):t},8135:(t,e,i)=>{t.exports=i(1533)},1533:(t,e,i)=>{var s=i(6854),r=/\s/;function n(t,e,i,s){return t>i&&t<s||e>i&&e<s||t<=i&&e>=s}function o(t){var e=t.match(/"/g);if(e&&1!=e.length){var i=[],s=null,r=!1,n=!1,o=0,u=e.length%2==0?e.length:e.length-1,a=null,l=t.split("");return l.forEach((function(t,e){" "!==t?'"'===t?!1===r&&o<=u?(r=!0,o++," "===a||null===a?(n=!0,s=""):s+=t):!0===r&&(r=!1,o++,!0===n?(n=!1,i.push(s),s=null):s+=t):!1!==r||" "!==a&&null!==a?s+=t:s=t:r?s+=t:null!==s&&(i.push(s),s=null),a=t,e==l.length-1&&null!==s&&(i.push(s),s=null)})),i}return t.split(/\s+/)}t.exports.parse=function(t){var e=t.split(/(\r\n)|(\n\r)|\n|\r/),i=[],u={},a=[];e.forEach((function(t){t&&t.trim()&&i.push(t)})),i.forEach((function(t,e){if(0==e){var i=t.split(/\s+/);i.forEach((function(e,s){if(e){var r=u[e]={},n=t.indexOf(e),o=n+e.length;r.titleBegin=0==s?0:n,s==i.length-1?r.titleEnd=t.length-1:r.titleEnd=o}}))}else a[e-1]=t.split("")}));var l=s(a,(function(t){return r.test(t)?-1:1}),!0),c=[];l.domains.sort((function(t,e){return t.bounding.x-e.bounding.x})),l.domains.forEach((function(t){if(1===t.identifier){var e=!1;c.forEach((function(i){var s=t.bounding,r=s.x,o=s.x+s.w;n(r,o,i.begin,i.end)&&(e=!0,i.domains.push(t),i.begin=i.begin>r?r:i.begin,i.end=i.end<o?o:i.end)})),e||c.push({begin:t.bounding.x,end:t.bounding.x+t.bounding.w,domains:[t]})}})),c.forEach((function(t){var e=null,i=null,s=!1,r=null,o=null,a=null;for(e in u)i=u[e],t.begin>i.titleBegin&&(a=t.begin-i.titleBegin,(!o||a<r)&&(o=e,r=a)),n(t.begin,t.end,i.titleBegin,i.titleEnd)&&(s=!0,i.titleBegin=i.titleBegin>t.begin?t.begin:i.titleBegin,i.titleEnd=i.titleEnd<t.end?t.end:i.titleEnd);if(!s&&o){var l=u[o];l.titleBegin=l.titleBegin>t.begin?t.begin:l.titleBegin,l.titleEnd=l.titleEnd<t.end?t.end:l.titleEnd}}));var h=[];return i.forEach((function(t,e){if(e>0){var i={},s=null,r=null,n=null;for(s in u)r=u[s],n=t.substring(r.titleBegin,r.titleEnd+1),i[s]=o(n.trim());h.push(i)}})),h}},6547:(t,e,i)=>{var s=i(2413);function r(t,e,i){t=t||function(t){this.queue(t)},e=e||function(){this.queue(null)};var r=!1,n=!1,o=[],u=!1,a=new s;function l(){for(;o.length&&!a.paused;){var t=o.shift();if(null===t)return a.emit("end");a.emit("data",t)}}function c(){a.writable=!1,e.call(a),!a.readable&&a.autoDestroy&&a.destroy()}return a.readable=a.writable=!0,a.paused=!1,a.autoDestroy=!(i&&!1===i.autoDestroy),a.write=function(e){return t.call(this,e),!a.paused},a.queue=a.push=function(t){return u||(null===t&&(u=!0),o.push(t),l()),a},a.on("end",(function(){a.readable=!1,!a.writable&&a.autoDestroy&&process.nextTick((function(){a.destroy()}))})),a.end=function(t){if(!r)return r=!0,arguments.length&&a.write(t),c(),a},a.destroy=function(){if(!n)return n=!0,r=!0,o.length=0,a.writable=a.readable=!1,a.emit("close"),a},a.pause=function(){if(!a.paused)return a.paused=!0,a},a.resume=function(){return a.paused&&(a.paused=!1,a.emit("resume")),l(),a.paused||a.emit("drain"),a},a}t.exports=r,r.through=r},3607:function(t,e,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i),Object.defineProperty(t,s,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&s(e,t,i);return r(e,t),e};Object.defineProperty(e,"__esModule",{value:!0});const o=n(i(5747)),u=n(i(1669)),a=n(i(1922)),l=n(i(1058)),c=i(2705),h=i(8614),p=u.promisify(o.readFile),d=u.promisify(o.exists);var f;!function(t){t.Succeeded="succeeded",t.Running="running",t.Failed="failed",t.Skipped="skipped"}(f||(f={}));const D=new h.EventEmitter;let m,g,b,y=!0;const v="/workspaces/.codespaces/shared/postCreateOutput.json",w="Use Cmd/Ctrl + Shift + P -> View Creation Log to see full logs";async function E(){const t=await p(v,"utf-8"),e=JSON.parse(t);if(m&&e.steps.length==g.steps.length)!function(t){for(const e of t.steps){const t=m.find((t=>t.name===e.name));e.stepDetail!==t.stepDetail&&D.emit("progressUpdate",{name:e.name,progress:e.stepDetail}),e.status!==f.Succeeded&&e.status!==f.Failed||t.callback(e.status===f.Succeeded?e:f.Failed)}g=t}(e);else try{b&&(b.renderer.end(),console.clear(),console.log(w)),g=e,m=g.steps.map((t=>{let e;const i=new Promise((t=>{e=t})),s=t.description?`${t.name} ${t.description}`:`${t.name}`;return{name:t.name,title:s,task:async(e,r)=>{var n;if(t.status===f.Running){if(t.stepDetail&&(r.output=t.stepDetail),D.on("progressUpdate",(e=>{e.name===t.name&&(r.output=e.progress)})),(n=await i)===f.Failed)throw new Error(s);n===f.Skipped&&r.skip(s)}else{if(t.status===f.Failed)throw new Error(s);t.status===f.Skipped&&r.skip(s)}},stepDetail:t.stepDetail,callback:e}})),b=new c.Listr(m,{rendererOptions:{collapse:!1},exitOnError:!1}),await b.run().then((async()=>{y=!1;var t=!0;for(const e of g.steps)if(e.status!==f.Succeeded&&e.status!==f.Skipped){t=!1;break}t?(await(1e3,new Promise((t=>setTimeout(t,1e3)))),process.exit(0)):console.log("Finished configuring codespace. Press any key to exit.")}))}catch(t){}}console.log(w),l.emitKeypressEvents(process.stdin),process.stdin.setRawMode(!0),process.stdin.on("keypress",(async(t,e)=>{y||process.exit(0),"c"===e.name&&e.ctrl&&a.lookup({command:"oryx"},((t,e)=>{!t&&e.length>0&&a.kill(e[0].pid)}))})),d(v).then((t=>{t?E():o.writeFile(v,"",{flag:"wx"},(t=>{}))})),o.watchFile(v,(async(t,e)=>{E()}))},8152:(t,e,i)=>{"use strict";const s=i(4223),r=i(6003),n=i(6434),o=new Set(["",""]),u=t=>`${o.values().next().value}[${t}m`,a=t=>`${o.values().next().value}]8;;${t}`,l=(t,e,i)=>{const n=[...e];let u=!1,a=!1,l=s(r(t[t.length-1]));for(const[e,r]of n.entries()){const c=s(r);l+c<=i?t[t.length-1]+=r:(t.push(r),l=0),o.has(r)&&(u=!0,a=n.slice(e+1).join("").startsWith("]8;;")),u?a?""===r&&(u=!1,a=!1):"m"===r&&(u=!1):(l+=c,l===i&&e<n.length-1&&(t.push(""),l=0))}!l&&t[t.length-1].length>0&&t.length>1&&(t[t.length-2]+=t.pop())},c=t=>{const e=t.split(" ");let i=e.length;for(;i>0&&!(s(e[i-1])>0);)i--;return i===e.length?t:e.slice(0,i).join(" ")+e.slice(i).join("")};t.exports=(t,e,i)=>String(t).normalize().replace(/\r\n/g,"\n").split("\n").map((t=>((t,e,i={})=>{if(!1!==i.trim&&""===t.trim())return"";let r,h,p="";const d=(t=>t.split(" ").map((t=>s(t))))(t);let f=[""];for(const[r,n]of t.split(" ").entries()){!1!==i.trim&&(f[f.length-1]=f[f.length-1].trimStart());let t=s(f[f.length-1]);if(0!==r&&(t>=e&&(!1===i.wordWrap||!1===i.trim)&&(f.push(""),t=0),(t>0||!1===i.trim)&&(f[f.length-1]+=" ",t++)),i.hard&&d[r]>e){const i=e-t,s=1+Math.floor((d[r]-i-1)/e);Math.floor((d[r]-1)/e)<s&&f.push(""),l(f,n,e)}else{if(t+d[r]>e&&t>0&&d[r]>0){if(!1===i.wordWrap&&t<e){l(f,n,e);continue}f.push("")}t+d[r]>e&&!1===i.wordWrap?l(f,n,e):f[f.length-1]+=n}}!1!==i.trim&&(f=f.map(c));const D=[...f.join("\n")];for(const[t,e]of D.entries()){if(p+=e,o.has(e)){const{groups:e}=new RegExp("(?:\\[(?<code>\\d+)m|\\]8;;(?<uri>.*))").exec(D.slice(t).join(""))||{groups:{}};if(void 0!==e.code){const t=Number.parseFloat(e.code);r=39===t?void 0:t}else void 0!==e.uri&&(h=0===e.uri.length?void 0:e.uri)}const i=n.codes.get(Number(r));"\n"===D[t+1]?(h&&(p+=a("")),r&&i&&(p+=u(i))):"\n"===e&&(r&&i&&(p+=u(r)),h&&(p+=a(h)))}return p})(t,e,i))).join("\n")},2357:t=>{"use strict";t.exports=require("assert")},3129:t=>{"use strict";t.exports=require("child_process")},8614:t=>{"use strict";t.exports=require("events")},5747:t=>{"use strict";t.exports=require("fs")},2087:t=>{"use strict";t.exports=require("os")},1058:t=>{"use strict";t.exports=require("readline")},2413:t=>{"use strict";t.exports=require("stream")},1669:t=>{"use strict";t.exports=require("util")}},e={};function i(s){var r=e[s];if(void 0!==r)return r.exports;var n=e[s]={id:s,loaded:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.loaded=!0,n.exports}i.d=(t,e)=>{for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),i(3607)})();